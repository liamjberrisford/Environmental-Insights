
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>environmental_insights &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/API';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Environmental Insights Tutorial" href="../tutorial_environmental_insights.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Environmental Insights
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tutorial_environmental_insights.html">Environmental Insights Tutorial</a></li>










<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">environmental_insights</span></code></a></li>













</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fdocs/API.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/API.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>environmental_insights</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><code class="docutils literal notranslate"><span class="pre">environmental_insights</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-air-pollution-functions"><code class="docutils literal notranslate"><span class="pre">environmental_insights.air_pollution_functions</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentrations-to-uk-daily-air-quality-index"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentrations_to_UK_daily_air_quality_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-air-pollution-daily-air-quality-index"><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-air-pollution-daily-air-quality-bands"><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_bands</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-concentrations-visulisation"><code class="docutils literal notranslate"><span class="pre">change_in_concentrations_visulisation</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-aqi-visulisation"><code class="docutils literal notranslate"><span class="pre">change_in_aqi_visulisation</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-concentration-line"><code class="docutils literal notranslate"><span class="pre">change_in_concentration_line</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-data"><code class="docutils literal notranslate"><span class="pre">environmental_insights.data</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-nc"><code class="docutils literal notranslate"><span class="pre">read_nc</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#returns">Returns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#netcdf-to-dataframe"><code class="docutils literal notranslate"><span class="pre">netcdf_to_dataframe</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Returns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-typical-day-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_typical_day_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-nearest-point-typical-day-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_typical_day_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-complete-set-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-nearest-point-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-complete-set-real-time-global"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_global</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-amenities-as-geodataframe"><code class="docutils literal notranslate"><span class="pre">get_amenities_as_geodataframe</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-highways-as-geodataframe"><code class="docutils literal notranslate"><span class="pre">get_highways_as_geodataframe</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ckd-nearest-linestring"><code class="docutils literal notranslate"><span class="pre">ckd_nearest_LineString</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-even-spaced-points"><code class="docutils literal notranslate"><span class="pre">get_even_spaced_points</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-new-metrics-distance-total"><code class="docutils literal notranslate"><span class="pre">calculate_new_metrics_distance_total</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#replace-feature-vector-column"><code class="docutils literal notranslate"><span class="pre">replace_feature_vector_column</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-uk-grids"><code class="docutils literal notranslate"><span class="pre">get_uk_grids</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-global-grids"><code class="docutils literal notranslate"><span class="pre">get_global_grids</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-download"><code class="docutils literal notranslate"><span class="pre">environmental_insights.download</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-file"><code class="docutils literal notranslate"><span class="pre">download_file</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-time-point-ml"><code class="docutils literal notranslate"><span class="pre">download_time_point_ml</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-time-point-synth"><code class="docutils literal notranslate"><span class="pre">download_time_point_synth</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-models"><code class="docutils literal notranslate"><span class="pre">download_models</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-training-data"><code class="docutils literal notranslate"><span class="pre">download_training_data</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download"><code class="docutils literal notranslate"><span class="pre">download</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-models"><code class="docutils literal notranslate"><span class="pre">environmental_insights.models</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ensure-download"><code class="docutils literal notranslate"><span class="pre">ensure_download</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-model-united-kingdom"><code class="docutils literal notranslate"><span class="pre">load_model_united_kingdom</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-model-global"><code class="docutils literal notranslate"><span class="pre">load_model_global</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-concentration-predictions-united-kingdom"><code class="docutils literal notranslate"><span class="pre">make_concentration_predictions_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-variables"><code class="docutils literal notranslate"><span class="pre">environmental_insights.variables</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests"><code class="docutils literal notranslate"><span class="pre">tests</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-air-pollution-functions-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_air_pollution_functions-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-data-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_data-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-models-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_models-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-integration-test-end-to-end-workflow"><code class="docutils literal notranslate"><span class="pre">tests.integration.test_end_to_end_workflow</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrationworkflowtests-objects"><code class="docutils literal notranslate"><span class="pre">IntegrationWorkflowTests</span></code> Objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-input-output-nonempty"><code class="docutils literal notranslate"><span class="pre">test_input_output_nonempty</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-model-predictions"><code class="docutils literal notranslate"><span class="pre">test_model_predictions</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-aqi-conversion"><code class="docutils literal notranslate"><span class="pre">test_aqi_conversion</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-nearest-point"><code class="docutils literal notranslate"><span class="pre">test_nearest_point</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-visualisations-are-saved"><code class="docutils literal notranslate"><span class="pre">test_visualisations_are_saved</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-air-pollution-functions"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_air_pollution_functions</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><code class="docutils literal notranslate"><span class="pre">_</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-data"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_data</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-models"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_models</span></code></a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><a id="environmental_insights"></a></p>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights</span></code><a class="headerlink" href="#environmental-insights" title="Link to this heading">#</a></h1>
<p><a id="environmental_insights.air_pollution_functions"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-air-pollution-functions">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights.air_pollution_functions</span></code><a class="headerlink" href="#environmental-insights-air-pollution-functions" title="Link to this heading">#</a></h1>
<p><a id="environmental_insights.air_pollution_functions.air_pollution_concentrations_to_UK_daily_air_quality_index"></a></p>
<section id="air-pollution-concentrations-to-uk-daily-air-quality-index">
<h2><code class="docutils literal notranslate"><span class="pre">air_pollution_concentrations_to_UK_daily_air_quality_index</span></code><a class="headerlink" href="#air-pollution-concentrations-to-uk-daily-air-quality-index" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentrations_to_UK_daily_air_quality_index</span><span class="p">(</span>
        <span class="n">predicitions</span><span class="p">,</span> <span class="n">pollutant</span><span class="p">,</span> <span class="n">air_pollutant_column_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Add onto an existing dataframe the Daily Air Quality Index (<a class="reference external" href="https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info">https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info</a>)
for the air pollutant concentration data described.</p>
<p>Parameters:
predicitions (dataframe): A dataframe of the air pollution concentrations that are to be added onto
pollutant (string): The string of the air pollutant concentration thresholds to be used to create the air quality indexes.
air_pollutant_column_name (string): The string of the column name for the air pollution concentration to calculate the air quality index on.</p>
<p>Returns:
dataframe: A dataframe with the additional columns for the air quality index based on the outlined air pollution concentration data.</p>
<p><a id="environmental_insights.air_pollution_functions.visualise_air_pollution_daily_air_quality_index"></a></p>
</section>
<section id="visualise-air-pollution-daily-air-quality-index">
<h2><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_index</span></code><a class="headerlink" href="#visualise-air-pollution-daily-air-quality-index" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">visualise_air_pollution_daily_air_quality_index</span><span class="p">(</span><span class="n">air_pollution_GDF</span><span class="p">,</span>
                                                    <span class="n">aqi_to_plot</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Visualise air_pollution_GDF with the UK Daily Air Quality Index (<a class="reference external" href="https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info">https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info</a>)
using the individual index bounds and standard color codes.</p>
<p>Parameters:
air_pollution_GDF (dataframe): A dataframe of the air pollution concentrations that are to be added onto
aqi_to_plot (string): Name of the column within air_pollution_GDF that has the indexes that are to be plotted.
filename (string): Filename for the visualisation that is outputted in the environmental_insights_visulisations directory</p>
<p><a id="environmental_insights.air_pollution_functions.visualise_air_pollution_daily_air_quality_bands"></a></p>
</section>
<section id="visualise-air-pollution-daily-air-quality-bands">
<h2><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_bands</span></code><a class="headerlink" href="#visualise-air-pollution-daily-air-quality-bands" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">visualise_air_pollution_daily_air_quality_bands</span><span class="p">(</span><span class="n">air_pollution_GDF</span><span class="p">,</span>
                                                    <span class="n">aqi_to_plot</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Visualise air_pollution_GDF with the UK Daily Air Quality Index (<a class="reference external" href="https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info">https://uk-air.defra.gov.uk/air-pollution/daqi?view=more-info</a>)
using the bands and standard color codes.</p>
<p>Parameters:
air_pollution_GDF (dataframe): A dataframe of the air pollution concentrations that are to be added onto
aqi_to_plot (string): Name of the column within air_pollution_GDF that has the bands that are to be plotted.
filename (string): Filename for the visualisation that is outputted in the environmental_insights_visulisations directory</p>
<p><a id="environmental_insights.air_pollution_functions.change_in_concentrations_visulisation"></a></p>
</section>
<section id="change-in-concentrations-visulisation">
<h2><code class="docutils literal notranslate"><span class="pre">change_in_concentrations_visulisation</span></code><a class="headerlink" href="#change-in-concentrations-visulisation" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">change_in_concentrations_visulisation</span><span class="p">(</span><span class="n">first_dataframe</span><span class="p">,</span> <span class="n">second_dataframe</span><span class="p">,</span>
                                          <span class="n">air_pollutant</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Visualisation the change in concentrations for two datasets of air pollution concentrations based on actual concentrations.</p>
<p>Parameters:
Parameters:
first_dataframe (DataFrame): The first concentration dataset.
second_dataframe (DataFrame): The second concentration dataset.
air_pollutant (string):  Common column name in both dataframes that will be used to calculate the difference in concentrations.
filename (string): Filename for the visualisation that is outputted in the environmental_insights_visulisations directory</p>
<p><a id="environmental_insights.air_pollution_functions.change_in_aqi_visulisation"></a></p>
</section>
<section id="change-in-aqi-visulisation">
<h2><code class="docutils literal notranslate"><span class="pre">change_in_aqi_visulisation</span></code><a class="headerlink" href="#change-in-aqi-visulisation" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">change_in_aqi_visulisation</span><span class="p">(</span><span class="n">first_dataframe</span><span class="p">,</span> <span class="n">second_dataframe</span><span class="p">,</span>
                               <span class="n">air_pollutant</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Visualisation the change in concentrations for two datasets of air pollution concentrations based on air quality indexes.</p>
<p>Parameters:
Parameters:
first_dataframe (DataFrame): The first concentration dataset.
second_dataframe (DataFrame): The second concentration dataset.
air_pollutant (string):  Common column name in both dataframes that will be used to calculate the difference in concentrations.
filename (string): Filename for the visualisation that is outputted in the environmental_insights_visulisations directory</p>
<p><a id="environmental_insights.air_pollution_functions.change_in_concentration_line"></a></p>
</section>
<section id="change-in-concentration-line">
<h2><code class="docutils literal notranslate"><span class="pre">change_in_concentration_line</span></code><a class="headerlink" href="#change-in-concentration-line" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">change_in_concentration_line</span><span class="p">(</span><span class="n">air_pollutant</span><span class="p">,</span> <span class="n">baseline_list</span><span class="p">,</span> <span class="n">change_list</span><span class="p">,</span>
                                 <span class="n">days</span><span class="p">,</span> <span class="n">hours_covered</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Visualisation the change in concentrations for two datasets of air pollution concentrations in a line graph.</p>
<p>Parameters:
Parameters:
air_pollutant (string): The name of the air pollutant to plot,
baseline_list (list): List of the air pollution concentrations for the baseline scenario.
change_list (list): List of the air pollution concentrations for the future scenario.
days (list): The days the lists covers.
hours_covered (list): The house the list covers.
filename (string): Filename for the visualisation that is outputted in the environmental_insights_visulisations directory</p>
<p><a id="environmental_insights.data"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-data">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights.data</span></code><a class="headerlink" href="#environmental-insights-data" title="Link to this heading">#</a></h1>
<p><a id="environmental_insights.data.read_nc"></a></p>
<section id="read-nc">
<h2><code class="docutils literal notranslate"><span class="pre">read_nc</span></code><a class="headerlink" href="#read-nc" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">read_nc</span><span class="p">(</span><span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span>
</pre></div>
</div>
<p>Read a NetCDF (.nc) file into an xarray.Dataset.</p>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h2>
<p>filepath : str
Path to the NetCDF file.</p>
</section>
<section id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Link to this heading">#</a></h2>
<p>xr.Dataset</p>
<p><a id="environmental_insights.data.netcdf_to_dataframe"></a></p>
<section id="netcdf-to-dataframe">
<h3><code class="docutils literal notranslate"><span class="pre">netcdf_to_dataframe</span></code><a class="headerlink" href="#netcdf-to-dataframe" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">netcdf_to_dataframe</span><span class="p">(</span><span class="n">ds</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
</pre></div>
</div>
<p>Convert an xarray.Dataset to a pandas DataFrame,
dropping any rows that have no valid data in <em>any</em> variable.</p>
</section>
</section>
<section id="id1">
<h2>Parameters<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>ds : xr.Dataset
The dataset to convert.</p>
</section>
<section id="id2">
<h2>Returns<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>pd.DataFrame</p>
<p><a id="environmental_insights.data.air_pollution_concentration_typical_day_real_time_united_kingdom"></a></p>
<section id="air-pollution-concentration-typical-day-real-time-united-kingdom">
<h3><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_typical_day_real_time_united_kingdom</span></code><a class="headerlink" href="#air-pollution-concentration-typical-day-real-time-united-kingdom" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
        <span class="n">month</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Input&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve the typical-day dataset (either Input or Output) for the UK for a given time.</p>
</section>
</section>
<section id="id3">
<h2>Parameters:<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>month : int
Month of interest, 1 (January) through 12 (December).
day_of_week : str
Day of week of interest, e.g., “Monday”, “Tuesday”, etc.
hour : int
Hour of interest, 0 (midnight) through 23.
data_type : str, optional
Whether to fetch the “Input” or the “Output” version of the SynthHAPPE dataset.
Defaults to “Input”.</p>
</section>
<section id="id4">
<h2>Returns:<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>pandas.DataFrame
The typical-day air pollution dataset for the UK at the specified time,
as a flattened DataFrame.</p>
<p><a id="environmental_insights.data.air_pollution_concentration_nearest_point_typical_day_united_kingdom"></a></p>
<section id="air-pollution-concentration-nearest-point-typical-day-united-kingdom">
<h3><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_typical_day_united_kingdom</span></code><a class="headerlink" href="#air-pollution-concentration-nearest-point-typical-day-united-kingdom" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentration_nearest_point_typical_day_united_kingdom</span><span class="p">(</span>
        <span class="n">month</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">hour</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">uk_grids</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Input&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve a single air pollution concentration data point (Input or Output)
for the UK model at the closest grid point to a given lat/long.</p>
</section>
</section>
<section id="id5">
<h2>Parameters:<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<p>month : int
Month of interest, 1 (January) through 12 (December).
day_of_week : str
Day of week of interest, e.g. “Monday”, “Tuesday”, etc.
hour : int
Hour of interest, 0 (midnight) through 23.
latitude : float
Latitude of the point to estimate.
longitude : float
Longitude of the point to estimate.
uk_grids : GeoDataFrame
Model grid points for the UK.
data_type : str, optional
“Input” or “Output” dataset to fetch. Defaults to “Input”.</p>
</section>
<section id="id6">
<h2>Returns:<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<p>pandas.DataFrame
One-row DataFrame with the nearest grid’s pollutant values
at the specified time.</p>
<p><a id="environmental_insights.data.air_pollution_concentration_complete_set_real_time_united_kingdom"></a></p>
<section id="air-pollution-concentration-complete-set-real-time-united-kingdom">
<h3><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_united_kingdom</span></code><a class="headerlink" href="#air-pollution-concentration-complete-set-real-time-united-kingdom" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentration_complete_set_real_time_united_kingdom</span><span class="p">(</span>
        <span class="n">time</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Input&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve the complete predicted dataset (Input or Output) for a given timestamp in the UK ML-HAPPE dataset.</p>
</section>
</section>
<section id="id7">
<h2>Parameters:<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<p>time : str
Timestamp of the form “YYYY-MM-DD HHmmss”.
data_type : str, optional
Whether to fetch the “Input” or “Output” version of the ML-HAPPE dataset.
Defaults to “Input”.</p>
</section>
<section id="id8">
<h2>Returns:<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<p>pandas.DataFrame
The full air pollution dataset for the UK at the specified timestamp,
as a flattened DataFrame.</p>
<p><a id="environmental_insights.data.air_pollution_concentration_nearest_point_real_time_united_kingdom"></a></p>
<section id="air-pollution-concentration-nearest-point-real-time-united-kingdom">
<h3><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_real_time_united_kingdom</span></code><a class="headerlink" href="#air-pollution-concentration-nearest-point-real-time-united-kingdom" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentration_nearest_point_real_time_united_kingdom</span><span class="p">(</span>
        <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">time</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">uk_grids</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Input&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve a single air pollution concentration data point (Input or Output)
for the UK ML-HAPPE model at the closest grid point to a given lat/long and timestamp.</p>
</section>
</section>
<section id="id9">
<h2>Parameters:<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<p>latitude : float
Latitude of the point to estimate.
longitude : float
Longitude of the point to estimate.
time : str
Timestamp of the form “YYYY-MM-DD HHmmss”.
uk_grids : GeoDataFrame
Model grid points for the UK.
data_type : str, optional
“Input” or “Output” dataset to fetch. Defaults to “Input”.</p>
</section>
<section id="id10">
<h2>Returns:<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p>pandas.DataFrame
One‐row DataFrame with the nearest grid’s pollutant values
at the specified time.</p>
<p><a id="environmental_insights.data.air_pollution_concentration_complete_set_real_time_global"></a></p>
<section id="air-pollution-concentration-complete-set-real-time-global">
<h3><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_global</span></code><a class="headerlink" href="#air-pollution-concentration-complete-set-real-time-global" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">air_pollution_concentration_complete_set_real_time_global</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve the complete calculated dataset for a given timestamp in the global dataset.</p>
<p>Parameters:
time (string): A string denoting the timestamp desired, of the form DD-MM-YYYY HHmmss.</p>
<p>Returns:
DataFrame: A DataFrame of the dataset for the global model for a given timestamp.</p>
<p><a id="environmental_insights.data.get_amenities_as_geodataframe"></a></p>
</section>
<section id="get-amenities-as-geodataframe">
<h3><code class="docutils literal notranslate"><span class="pre">get_amenities_as_geodataframe</span></code><a class="headerlink" href="#get-amenities-as-geodataframe" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_amenities_as_geodataframe</span><span class="p">(</span><span class="n">amenity_type</span><span class="p">,</span> <span class="n">min_lat</span><span class="p">,</span> <span class="n">min_lon</span><span class="p">,</span> <span class="n">max_lat</span><span class="p">,</span>
                                  <span class="n">max_lon</span><span class="p">)</span>
</pre></div>
</div>
<p>Fetch amenities of a given type within a bounding box and return as a GeoDataFrame.</p>
<p>Parameters:
amenity_type (string): Type of amenity, e.g., “hospital”.
min_lat (float): Minimum latitude.
min_lon (float): Minimum longitude.
max_lat (float): Maximum latitude.
max_lon (float): Maximum longitude.</p>
<p>Returns:
GeoDataFrame: A GeoDataFrame containing the amenities with their names and coordinates.</p>
<p><a id="environmental_insights.data.get_highways_as_geodataframe"></a></p>
</section>
<section id="get-highways-as-geodataframe">
<h3><code class="docutils literal notranslate"><span class="pre">get_highways_as_geodataframe</span></code><a class="headerlink" href="#get-highways-as-geodataframe" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_highways_as_geodataframe</span><span class="p">(</span><span class="n">highway_type</span><span class="p">,</span> <span class="n">min_lat</span><span class="p">,</span> <span class="n">min_lon</span><span class="p">,</span> <span class="n">max_lat</span><span class="p">,</span>
                                 <span class="n">max_lon</span><span class="p">)</span>
</pre></div>
</div>
<p>Fetch highways of a specified type within a bounding box from OSM and return as a GeoDataFrame.</p>
<p>Parameters:
highway_type (string): Type of highway, e.g., “motorway”, “residential”.
min_lat (float): Minimum latitude.
min_lon (float): Minimum longitude.
max_lat (float): Maximum latitude.
max_lon (float): Maximum longitude.</p>
<p>Returns:
GeoDataFrame: A GeoDataFrame containing the highways with their names and coordinates.</p>
<p><a id="environmental_insights.data.ckd_nearest_LineString"></a></p>
</section>
<section id="ckd-nearest-linestring">
<h3><code class="docutils literal notranslate"><span class="pre">ckd_nearest_LineString</span></code><a class="headerlink" href="#ckd-nearest-linestring" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ckd_nearest_LineString</span><span class="p">(</span><span class="n">gdf_A</span><span class="p">,</span> <span class="n">gdf_B</span><span class="p">,</span> <span class="n">gdf_B_cols</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculate the nearest points between two GeoDataFrames containing LineString geometries.</p>
<p>This function uses cKDTree to efficiently find the nearest points between two sets
of LineStrings. For each point in <code class="docutils literal notranslate"><span class="pre">gdf_A</span></code>, the function finds the closest point
in <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code> and returns the distances along with selected columns from <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code>.</p>
<p>Parameters:
gdf_A (GeoDataFrame): A GeoDataFrame containing LineString geometries.
gdf_B (GeoDataFrame): A GeoDataFrame containing LineString geometries which will be
used to find the closest points to <code class="docutils literal notranslate"><span class="pre">gdf_A</span></code>.
gdf_B_cols (list or tuple): A list or tuple containing column names from <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code>
which will be included in the resulting DataFrame.</p>
<p>Returns:
GeoDataFrame: A GeoDataFrame with each row containing a geometry from <code class="docutils literal notranslate"><span class="pre">gdf_A</span></code>,
corresponding closest geometry details from <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code> (as specified by <code class="docutils literal notranslate"><span class="pre">gdf_B_cols</span></code>),
and the distance to the closest point in <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code>.</p>
<p>Note:
The resulting GeoDataFrame maintains the order of <code class="docutils literal notranslate"><span class="pre">gdf_A</span></code> and attaches the nearest
details from <code class="docutils literal notranslate"><span class="pre">gdf_B</span></code>.
This code was adapted from the code available here: <a class="reference external" href="https://gis.stackexchange.com/questions/222315/finding-nearest-point-in-other-geodataframe-using-geopandas">https://gis.stackexchange.com/questions/222315/finding-nearest-point-in-other-geodataframe-using-geopandas</a></p>
<p><a id="environmental_insights.data.get_even_spaced_points"></a></p>
</section>
<section id="get-even-spaced-points">
<h3><code class="docutils literal notranslate"><span class="pre">get_even_spaced_points</span></code><a class="headerlink" href="#get-even-spaced-points" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_even_spaced_points</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">number_of_points</span><span class="p">)</span>
</pre></div>
</div>
<p>Generate a list of evenly spaced points between two given points.</p>
<p>This function calculates the distance (or difference) between two input points
and divides this distance into <code class="docutils literal notranslate"><span class="pre">number_of_points</span></code> equal segments. The resulting
points, including the start and end points, are returned in a list.</p>
<p>Parameters:
points (list or tuple of float): A list or tuple containing two points
(start and end) between which the evenly spaced points
are to be calculated.
number_of_points (int): The total number of points to generate,
including the start and end points.</p>
<p>Returns:
list: A list of evenly spaced points between the provided start and end points.</p>
<p>Example:</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><p>get_even_spaced_points([1, 10], 5)
[1.0, 3.25, 5.5, 7.75, 10.0]</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>Note:
The function assumes that the points list is sorted in ascending order.</p>
<p><a id="environmental_insights.data.calculate_new_metrics_distance_total"></a></p>
</section>
<section id="calculate-new-metrics-distance-total">
<h3><code class="docutils literal notranslate"><span class="pre">calculate_new_metrics_distance_total</span></code><a class="headerlink" href="#calculate-new-metrics-distance-total" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">calculate_new_metrics_distance_total</span><span class="p">(</span><span class="n">current_infrastructure</span><span class="p">,</span> <span class="n">highway_type</span><span class="p">,</span>
                                         <span class="n">start_point</span><span class="p">,</span> <span class="n">end_point</span><span class="p">,</span>
                                         <span class="n">land_grids_centroids</span><span class="p">,</span> <span class="n">land_grids</span><span class="p">)</span>
</pre></div>
</div>
<p>Simulate the addition of a proposed highway to current infrastructure and calculate new metrics.</p>
<p>This function creates a new proposed highway segment based on given start and end points.
The proposed highway is then added to the current infrastructure dataset. After adding the
new highway, the function calculates distance metrics and total length of the specific highway type.</p>
<p>Parameters:
current_infrastructure (GeoDataFrame): The current infrastructure dataset with existing highways.
highway_type (str): Type of the highway for which metrics are calculated (e.g., “motorway”).
start_point (tuple of float): Coordinates (x, y) for the starting point of the proposed highway.
end_point (tuple of float): Coordinates (x, y) for the ending point of the proposed highway.
land_grids_centroids (GeoDataFrame): GeoDataFrame of the grids for predictions to be made on, with the geometry being a set of points representing the centroid of such grids.
land_grids (GeoDataFrame): GeoDataFrame of the grids for predictions to be made on, with the geometry being a set of polygons representing the grids themselves.</p>
<p>Returns:
tuple:</p>
<ul class="simple">
<li><p>GeoDataFrame: Contains metrics such as road infrastructure distance and total road length for each grid.</p></li>
<li><p>GeoDataFrame: A merged dataset of current infrastructure and the proposed highway.</p></li>
</ul>
<p>Note:</p>
<ul class="simple">
<li><p>The function assumes the use of EPSG:4326 and EPSG:3395 for coordinate reference systems.</p></li>
<li><p>It also assumes the existence of helper functions like <code class="docutils literal notranslate"><span class="pre">get_even_spaced_points</span></code> and a global variable <code class="docutils literal notranslate"><span class="pre">land_grids_centroids</span></code>.</p></li>
</ul>
<p><a id="environmental_insights.data.replace_feature_vector_column"></a></p>
</section>
<section id="replace-feature-vector-column">
<h3><code class="docutils literal notranslate"><span class="pre">replace_feature_vector_column</span></code><a class="headerlink" href="#replace-feature-vector-column" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">replace_feature_vector_column</span><span class="p">(</span><span class="n">feature_vector</span><span class="p">,</span> <span class="n">new_feature_vector</span><span class="p">,</span>
                                  <span class="n">feature_vector_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Replace the feature vector column name with the new feature vector column name, replacing the data within the dataframe with new environmental conditions.</p>
<p>Parameters:
feature_vector (DataFrame): DataFrame of the original data.
new_feature_vector (DataFrame): DataFrame containing the new feature vector that is to be used to replace the data in feature_vector.
feature_vector_name (string): Name of the feature vector to be changed.</p>
<p>Returns:
DataFrame: A DataFrame of the original data that was added with the feature vector now replaced by the new data.</p>
<p><a id="environmental_insights.data.get_uk_grids"></a></p>
</section>
<section id="get-uk-grids">
<h3><code class="docutils literal notranslate"><span class="pre">get_uk_grids</span></code><a class="headerlink" href="#get-uk-grids" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_uk_grids</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the spatial grids that represent the locations at which air pollution estimations are made for the UK Model.</p>
<p>Returns:
GeoDataFrame: A GeoDataFrame of the polygons for each of the grids in the UK Model alongside their centroid and unique ID.</p>
<p><a id="environmental_insights.data.get_global_grids"></a></p>
</section>
<section id="get-global-grids">
<h3><code class="docutils literal notranslate"><span class="pre">get_global_grids</span></code><a class="headerlink" href="#get-global-grids" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_global_grids</span><span class="p">()</span>
</pre></div>
</div>
<p>Get the spatial grids that represent the locations at which air pollution estimations are made for the Global Model.</p>
<p>Returns:
GeoDataFrame: A GeoDataFrame of the polygons for each of the grids in the Global Model and unique ID.</p>
<p><a id="environmental_insights.download"></a></p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-download">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights.download</span></code><a class="headerlink" href="#environmental-insights-download" title="Link to this heading">#</a></h1>
<p><a id="environmental_insights.download.download_file"></a></p>
<section id="download-file">
<h2><code class="docutils literal notranslate"><span class="pre">download_file</span></code><a class="headerlink" href="#download-file" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                  <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">extra_wget_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Download a single URL using wget into output_dir (defaults to package root).</p>
<p><a id="environmental_insights.download.download_time_point_ml"></a></p>
</section>
<section id="download-time-point-ml">
<h2><code class="docutils literal notranslate"><span class="pre">download_time_point_ml</span></code><a class="headerlink" href="#download-time-point-ml" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download_time_point_ml</span><span class="p">(</span>
        <span class="n">dataset</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">timestamp</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Download a single .nc time point for ML-HAPPE Input/Output.</p>
<p><a id="environmental_insights.download.download_time_point_synth"></a></p>
</section>
<section id="download-time-point-synth">
<h2><code class="docutils literal notranslate"><span class="pre">download_time_point_synth</span></code><a class="headerlink" href="#download-time-point-synth" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download_time_point_synth</span><span class="p">(</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">month</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">day</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">hour</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Download a single .nc file for SynthHAPPE with synthetic filename format:
Month_<n>-Day_<DayName>-Hour_<h>.nc
Month can be numeric or month name.</p>
<p><a id="environmental_insights.download.download_models"></a></p>
</section>
<section id="download-models">
<h2><code class="docutils literal notranslate"><span class="pre">download_models</span></code><a class="headerlink" href="#download-models" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download_models</span><span class="p">(</span><span class="n">model_level</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">pollutant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">model_category</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Download ML-HAPPE model files for each category, or all if ‘All’ is specified.</p>
<p><a id="environmental_insights.download.download_training_data"></a></p>
</section>
<section id="download-training-data">
<h2><code class="docutils literal notranslate"><span class="pre">download_training_data</span></code><a class="headerlink" href="#download-training-data" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download_training_data</span><span class="p">(</span>
        <span class="n">pollutant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">station</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Download ML-HAPPE training data .nc for a station.</p>
<p><a id="environmental_insights.download.download"></a></p>
</section>
<section id="download">
<h2><code class="docutils literal notranslate"><span class="pre">download</span></code><a class="headerlink" href="#download" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download</span><span class="p">(</span><span class="n">dataset</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">month</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">day</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">hour</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">model_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">pollutant</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">station</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Unified download interface for ML-HAPPE and SynthHAPPE.</p>
<p><a id="environmental_insights.models"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-models">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights.models</span></code><a class="headerlink" href="#environmental-insights-models" title="Link to this heading">#</a></h1>
<p><a id="environmental_insights.models.ensure_download"></a></p>
<section id="ensure-download">
<h2><code class="docutils literal notranslate"><span class="pre">ensure_download</span></code><a class="headerlink" href="#ensure-download" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ensure_download</span><span class="p">(</span><span class="n">dataset</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                    <span class="o">*</span><span class="p">,</span>
                    <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">month</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">day</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">hour</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">model_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">pollutant</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">station</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Ensure the requested file(s) exist locally by invoking the unified downloader.</p>
<p><a id="environmental_insights.models.load_model_united_kingdom"></a></p>
</section>
<section id="load-model-united-kingdom">
<h2><code class="docutils literal notranslate"><span class="pre">load_model_united_kingdom</span></code><a class="headerlink" href="#load-model-united-kingdom" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">load_model_united_kingdom</span><span class="p">(</span>
        <span class="n">model_level</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pollutant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">model_category</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">LGBMRegressor</span>
</pre></div>
</div>
<p>Load a pretrained UK air pollution LGBM model for a specific category,
downloading only the required booster + params.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>model_level: one of [‘0.05’,’0.5’,’0.95’,’mean’]</p></li>
<li><p>pollutant: one of [‘no’,’no2’,’nox’,’o3’,’pm10’,’pm2p5’,’so2’]</p></li>
<li><p>model_category: one of MODEL_CATEGORIES or ‘All’</p></li>
</ul>
<p><a id="environmental_insights.models.load_model_global"></a></p>
</section>
<section id="load-model-global">
<h2><code class="docutils literal notranslate"><span class="pre">load_model_global</span></code><a class="headerlink" href="#load-model-global" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">load_model_global</span><span class="p">(</span><span class="n">model_level</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">pollutant</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">model_category</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                      <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">lgb</span><span class="o">.</span><span class="n">LGBMRegressor</span>
</pre></div>
</div>
<p>Load a pretrained Global air pollution LGBM model for a specific category,
downloading only the required booster + params.</p>
<p><a id="environmental_insights.models.make_concentration_predictions_united_kingdom"></a></p>
</section>
<section id="make-concentration-predictions-united-kingdom">
<h2><code class="docutils literal notranslate"><span class="pre">make_concentration_predictions_united_kingdom</span></code><a class="headerlink" href="#make-concentration-predictions-united-kingdom" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
        <span class="n">estimating_model</span><span class="p">:</span> <span class="n">lgb</span><span class="o">.</span><span class="n">LGBMRegressor</span><span class="p">,</span> <span class="n">observation_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
        <span class="n">feature_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
</pre></div>
</div>
<p>Predict concentrations using a trained LGBM model.</p>
<p><a id="environmental_insights.variables"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-variables">
<h1><code class="docutils literal notranslate"><span class="pre">environmental_insights.variables</span></code><a class="headerlink" href="#environmental-insights-variables" title="Link to this heading">#</a></h1>
<p><a id="tests"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests">
<h1><code class="docutils literal notranslate"><span class="pre">tests</span></code><a class="headerlink" href="#tests" title="Link to this heading">#</a></h1>
<p><a id="tests..ipynb_checkpoints.tests_air_pollution_functions-checkpoint"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-ipynb-checkpoints-tests-air-pollution-functions-checkpoint">
<h1><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_air_pollution_functions-checkpoint</span></code><a class="headerlink" href="#tests-ipynb-checkpoints-tests-air-pollution-functions-checkpoint" title="Link to this heading">#</a></h1>
<p><a id="tests..ipynb_checkpoints.tests_data-checkpoint"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-ipynb-checkpoints-tests-data-checkpoint">
<h1><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_data-checkpoint</span></code><a class="headerlink" href="#tests-ipynb-checkpoints-tests-data-checkpoint" title="Link to this heading">#</a></h1>
<p><a id="tests..ipynb_checkpoints.tests_models-checkpoint"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-ipynb-checkpoints-tests-models-checkpoint">
<h1><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_models-checkpoint</span></code><a class="headerlink" href="#tests-ipynb-checkpoints-tests-models-checkpoint" title="Link to this heading">#</a></h1>
<p><a id="tests.integration.test_end_to_end_workflow"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-integration-test-end-to-end-workflow">
<h1><code class="docutils literal notranslate"><span class="pre">tests.integration.test_end_to_end_workflow</span></code><a class="headerlink" href="#tests-integration-test-end-to-end-workflow" title="Link to this heading">#</a></h1>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests"></a></p>
<section id="integrationworkflowtests-objects">
<h2><code class="docutils literal notranslate"><span class="pre">IntegrationWorkflowTests</span></code> Objects<a class="headerlink" href="#integrationworkflowtests-objects" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">IntegrationWorkflowTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span>
</pre></div>
</div>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests.test_input_output_nonempty"></a></p>
<section id="test-input-output-nonempty">
<h3><code class="docutils literal notranslate"><span class="pre">test_input_output_nonempty</span></code><a class="headerlink" href="#test-input-output-nonempty" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_input_output_nonempty</span><span class="p">()</span>
</pre></div>
</div>
<p>Input and output datasets should be non-empty after download and load.</p>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests.test_model_predictions"></a></p>
</section>
<section id="test-model-predictions">
<h3><code class="docutils literal notranslate"><span class="pre">test_model_predictions</span></code><a class="headerlink" href="#test-model-predictions" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_model_predictions</span><span class="p">()</span>
</pre></div>
</div>
<p>Model predictions should include the ‘Model Prediction’ column and contain data.</p>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests.test_aqi_conversion"></a></p>
</section>
<section id="test-aqi-conversion">
<h3><code class="docutils literal notranslate"><span class="pre">test_aqi_conversion</span></code><a class="headerlink" href="#test-aqi-conversion" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_aqi_conversion</span><span class="p">()</span>
</pre></div>
</div>
<p>AQI conversion should add the correct AQI column and return data.</p>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests.test_nearest_point"></a></p>
</section>
<section id="test-nearest-point">
<h3><code class="docutils literal notranslate"><span class="pre">test_nearest_point</span></code><a class="headerlink" href="#test-nearest-point" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_nearest_point</span><span class="p">()</span>
</pre></div>
</div>
<p>Retrieving the nearest point data should return a single point with distance measurement.</p>
<p><a id="tests.integration.test_end_to_end_workflow.IntegrationWorkflowTests.test_visualisations_are_saved"></a></p>
</section>
<section id="test-visualisations-are-saved">
<h3><code class="docutils literal notranslate"><span class="pre">test_visualisations_are_saved</span></code><a class="headerlink" href="#test-visualisations-are-saved" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_visualisations_are_saved</span><span class="p">()</span>
</pre></div>
</div>
<p>Visualisation functions should complete without error and save PNG files.</p>
<p><a id="tests.unit.test_air_pollution_functions"></a></p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-unit-test-air-pollution-functions">
<h1><code class="docutils literal notranslate"><span class="pre">tests.unit.test_air_pollution_functions</span></code><a class="headerlink" href="#tests-unit-test-air-pollution-functions" title="Link to this heading">#</a></h1>
<p><a id="tests.unit.test_air_pollution_functions._"></a></p>
<section id="id11">
<h2><code class="docutils literal notranslate"><span class="pre">_</span></code><a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<p>Access C-API</p>
<p><a id="tests.unit.test_data"></a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-unit-test-data">
<h1><code class="docutils literal notranslate"><span class="pre">tests.unit.test_data</span></code><a class="headerlink" href="#tests-unit-test-data" title="Link to this heading">#</a></h1>
<p><a id="tests.unit.test_models"></a></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tests-unit-test-models">
<h1><code class="docutils literal notranslate"><span class="pre">tests.unit.test_models</span></code><a class="headerlink" href="#tests-unit-test-models" title="Link to this heading">#</a></h1>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../tutorial_environmental_insights.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Environmental Insights Tutorial</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><code class="docutils literal notranslate"><span class="pre">environmental_insights</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-air-pollution-functions"><code class="docutils literal notranslate"><span class="pre">environmental_insights.air_pollution_functions</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentrations-to-uk-daily-air-quality-index"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentrations_to_UK_daily_air_quality_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-air-pollution-daily-air-quality-index"><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_index</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-air-pollution-daily-air-quality-bands"><code class="docutils literal notranslate"><span class="pre">visualise_air_pollution_daily_air_quality_bands</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-concentrations-visulisation"><code class="docutils literal notranslate"><span class="pre">change_in_concentrations_visulisation</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-aqi-visulisation"><code class="docutils literal notranslate"><span class="pre">change_in_aqi_visulisation</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#change-in-concentration-line"><code class="docutils literal notranslate"><span class="pre">change_in_concentration_line</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-data"><code class="docutils literal notranslate"><span class="pre">environmental_insights.data</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-nc"><code class="docutils literal notranslate"><span class="pre">read_nc</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#returns">Returns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#netcdf-to-dataframe"><code class="docutils literal notranslate"><span class="pre">netcdf_to_dataframe</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Returns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-typical-day-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_typical_day_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-nearest-point-typical-day-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_typical_day_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-complete-set-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-nearest-point-real-time-united-kingdom"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_nearest_point_real_time_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Parameters:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Returns:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#air-pollution-concentration-complete-set-real-time-global"><code class="docutils literal notranslate"><span class="pre">air_pollution_concentration_complete_set_real_time_global</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-amenities-as-geodataframe"><code class="docutils literal notranslate"><span class="pre">get_amenities_as_geodataframe</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-highways-as-geodataframe"><code class="docutils literal notranslate"><span class="pre">get_highways_as_geodataframe</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ckd-nearest-linestring"><code class="docutils literal notranslate"><span class="pre">ckd_nearest_LineString</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-even-spaced-points"><code class="docutils literal notranslate"><span class="pre">get_even_spaced_points</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-new-metrics-distance-total"><code class="docutils literal notranslate"><span class="pre">calculate_new_metrics_distance_total</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#replace-feature-vector-column"><code class="docutils literal notranslate"><span class="pre">replace_feature_vector_column</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-uk-grids"><code class="docutils literal notranslate"><span class="pre">get_uk_grids</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-global-grids"><code class="docutils literal notranslate"><span class="pre">get_global_grids</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-download"><code class="docutils literal notranslate"><span class="pre">environmental_insights.download</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-file"><code class="docutils literal notranslate"><span class="pre">download_file</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-time-point-ml"><code class="docutils literal notranslate"><span class="pre">download_time_point_ml</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-time-point-synth"><code class="docutils literal notranslate"><span class="pre">download_time_point_synth</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-models"><code class="docutils literal notranslate"><span class="pre">download_models</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-training-data"><code class="docutils literal notranslate"><span class="pre">download_training_data</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download"><code class="docutils literal notranslate"><span class="pre">download</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-models"><code class="docutils literal notranslate"><span class="pre">environmental_insights.models</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ensure-download"><code class="docutils literal notranslate"><span class="pre">ensure_download</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-model-united-kingdom"><code class="docutils literal notranslate"><span class="pre">load_model_united_kingdom</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-model-global"><code class="docutils literal notranslate"><span class="pre">load_model_global</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-concentration-predictions-united-kingdom"><code class="docutils literal notranslate"><span class="pre">make_concentration_predictions_united_kingdom</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#environmental-insights-variables"><code class="docutils literal notranslate"><span class="pre">environmental_insights.variables</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests"><code class="docutils literal notranslate"><span class="pre">tests</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-air-pollution-functions-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_air_pollution_functions-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-data-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_data-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-ipynb-checkpoints-tests-models-checkpoint"><code class="docutils literal notranslate"><span class="pre">tests..ipynb_checkpoints.tests_models-checkpoint</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-integration-test-end-to-end-workflow"><code class="docutils literal notranslate"><span class="pre">tests.integration.test_end_to_end_workflow</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integrationworkflowtests-objects"><code class="docutils literal notranslate"><span class="pre">IntegrationWorkflowTests</span></code> Objects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-input-output-nonempty"><code class="docutils literal notranslate"><span class="pre">test_input_output_nonempty</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-model-predictions"><code class="docutils literal notranslate"><span class="pre">test_model_predictions</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-aqi-conversion"><code class="docutils literal notranslate"><span class="pre">test_aqi_conversion</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-nearest-point"><code class="docutils literal notranslate"><span class="pre">test_nearest_point</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-visualisations-are-saved"><code class="docutils literal notranslate"><span class="pre">test_visualisations_are_saved</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-air-pollution-functions"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_air_pollution_functions</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><code class="docutils literal notranslate"><span class="pre">_</span></code></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-data"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_data</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-unit-test-models"><code class="docutils literal notranslate"><span class="pre">tests.unit.test_models</span></code></a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>