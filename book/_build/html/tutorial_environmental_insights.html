
<!DOCTYPE html>


<html lang="en" data-content_root="./" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Environmental Insights Tutorial &#8212; Environmental Insights</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial_environmental_insights';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="environmental_insights.air_pollution_functions" href="docs/api/environmental_insights/environmental_insights.air_pollution_functions.html" />
    <link rel="prev" title="Environmental Insights" href="home_page.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="home_page.html">
  
  
  
  
  
    
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Environmental Insights - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Environmental Insights - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="home_page.html">
                    Environmental Insights
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Environmental Insights Tutorial</a></li>










</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="docs/api/environmental_insights/environmental_insights.air_pollution_functions.html">environmental_insights.air_pollution_functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/api/environmental_insights/environmental_insights.data.html">environmental_insights.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/api/environmental_insights/environmental_insights.download.html">environmental_insights.download</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/api/environmental_insights/environmental_insights.models.html">environmental_insights.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/api/environmental_insights/environmental_insights.variables.html">environmental_insights.variables</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ftutorial_environmental_insights.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tutorial_environmental_insights.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Environmental Insights Tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Environmental Insights Tutorial</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#import-relevant-modules-for-the-tutorial-both-from-the-environmental-insight-package-air-pollution-functions-data-models-and-auxiliary-modules-numpy-and-matplotlib">Import relevant modules for the tutorial, both from the Environmental Insight package (air_pollution_functions, data, models) and auxiliary modules (numpy and matplotlib)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-of-the-example-dataset-for-the-tutorial">Loading of the example dataset for the tutorial</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-the-data-that-represents-the-gridded-system-used-for-both-the-global-and-the-uk-model">Load in the data that represents the gridded system used for both the global and the UK Model.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-data-for-a-particular-timestamp-for-the-global-dataset-for-all-of-the-grids">Load in data for a particular timestamp for the global dataset for all of the grids.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-data-for-a-particular-timestamp-for-the-england-dataset-for-all-of-the-grids-and-for-a-single-point-latitude-and-longitude-for-a-single-timestamp">Load in data for a particular timestamp for the England dataset for all of the grids, and for a single point (latitude and longitude) for a single timestamp.</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-different-datapoints-that-have-been-loaded-in-in-both-the-uk-daily-air-quality-index-and-the-higher-level-daily-air-quality-bands">Visualise the different datapoints that have been loaded in. In both the UK Daily Air Quality Index, and the higher level Daily Air Quality Bands</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uk-model-visualisation">UK Model Visualisation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-model-visualisation">Global Model Visualisation</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#the-code-from-this-point-onwards-required-you-to-download-the-data-from-google-drive-while-a-more-permanent-solution-for-online-downloading-of-the-data-is-sought">The code from this point onwards required you to download the data from google drive while a more permanent solution for online downloading of the data is sought.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-typical-day-data-for-the-uk">Load the typical day data for the UK</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-change-in-the-air-pollution-concentration-and-air-quality-index-for-no2-between-8am-and-9am-on-1st-january-2018">Visualise the change in the air pollution concentration and air quality index for NO2 between 8am and 9am on 1st January 2018.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualising-the-changes-in-the-air-pollution-concentrations-across-a-number-of-timestamps">Visualising the changes in the air pollution concentrations across a number of timestamps.</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-changes-based-on-the-list-of-dataframe">Visualise the changes based on the list of dataframe.</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-using-the-model-to-create-new-predictions-based-on-a-changing-feature-vector">Example of using the model to create new predictions based on a changing feature vector.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#access-up-to-date-openstreetmaps-data">Access Up to Date OpenStreetMaps data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-changes-in-air-pollution-across-a-typical-friday-due-to-the-placement-of-the-new-motorway-segment">Visualise the changes in air pollution across a typical friday due to the placement of the new motorway segment</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="environmental-insights-tutorial">
<h1>Environmental Insights Tutorial<a class="headerlink" href="#environmental-insights-tutorial" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="import-relevant-modules-for-the-tutorial-both-from-the-environmental-insight-package-air-pollution-functions-data-models-and-auxiliary-modules-numpy-and-matplotlib">
<h1>Import relevant modules for the tutorial, both from the Environmental Insight package (air_pollution_functions, data, models) and auxiliary modules (numpy and matplotlib)<a class="headerlink" href="#import-relevant-modules-for-the-tutorial-both-from-the-environmental-insight-package-air-pollution-functions-data-models-and-auxiliary-modules-numpy-and-matplotlib" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">environmental_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">air_pollution_functions</span> <span class="k">as</span> <span class="n">ei_air_pollution_functions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">environmental_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">ei_data</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">environmental_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span> <span class="k">as</span> <span class="n">ei_models</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">environmental_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">download</span> <span class="k">as</span> <span class="n">ei_download</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1) ML-HAPPE — Input file for 2018-01-01 at midnight</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;ML-HAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Input&quot;,</span>
<span class="c1">#     timestamp=&quot;2018-01-01_000000&quot;,</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_data/ML-HAPPE/Input/&quot;</span>
<span class="c1"># )</span>

<span class="c1"># # 2) ML-HAPPE — Output file for the same timestamp</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;ML-HAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Output&quot;,</span>
<span class="c1">#     timestamp=&quot;2018-01-01_000000&quot;,</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_data/ML-HAPPE/Output/&quot;</span>
<span class="c1"># )</span>

<span class="c1"># # 3) ML-HAPPE — Training Data for pollutant PM10 at station Aston_Hill</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;ML-HAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Training_Data&quot;,</span>
<span class="c1">#     pollutant=&quot;no&quot;,</span>
<span class="c1">#     station=&quot;Aston_Hill&quot;,</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_data/ML-HAPPE/Training_Data/&quot;</span>
<span class="c1"># )</span>

<span class="c1"># # 4) ML-HAPPE — Download all “0.05”-level NO models</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;ML-HAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Models&quot;,</span>
<span class="c1">#     model_level=&quot;0.05&quot;,</span>
<span class="c1">#     pollutant=&quot;no&quot;,</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_models/ML-HAPPE/&quot;</span>
<span class="c1"># )</span>

<span class="c1"># 5) Download a SynthHAPPE “Input” file for Month 1 (January), Day Friday, Hour 0</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;SynthHAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Input&quot;,</span>
<span class="c1">#     month=1,           # or &quot;January&quot; / &quot;january&quot;</span>
<span class="c1">#     day=&quot;Friday&quot;,      # case-insensitive</span>
<span class="c1">#     hour=0,            # 0–23</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_data/SynthHAPPE/Input/&quot;</span>
<span class="c1"># )</span>

<span class="c1"># # 6) Download a SynthHAPPE “Output” file for Month 12 (December), Day Monday, Hour 23</span>
<span class="c1"># ei_download.download(</span>
<span class="c1">#     dataset=&quot;SynthHAPPE&quot;,</span>
<span class="c1">#     data_type=&quot;Output&quot;,</span>
<span class="c1">#     month=12,</span>
<span class="c1">#     day=&quot;monday&quot;,      # any casing is fine</span>
<span class="c1">#     hour=23,</span>
<span class="c1">#     output_dir=&quot;environmental_insights/environmental_insights_data/SynthHAPPE/Output/&quot;</span>
<span class="c1"># )</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="loading-of-the-example-dataset-for-the-tutorial">
<h1>Loading of the example dataset for the tutorial<a class="headerlink" href="#loading-of-the-example-dataset-for-the-tutorial" title="Link to this heading">#</a></h1>
<section id="load-in-the-data-that-represents-the-gridded-system-used-for-both-the-global-and-the-uk-model">
<h2>Load in the data that represents the gridded system used for both the global and the UK Model.<a class="headerlink" href="#load-in-the-data-that-represents-the-gridded-system-used-for-both-the-global-and-the-uk-model" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load in the grids that represent the UK Model</span>
<span class="n">uk_grids</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">get_uk_grids</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">uk_grids</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UK_Model_Grid_ID</th>
      <th>geometry</th>
      <th>geometry Centroid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3327</td>
      <td>POLYGON ((-627291.443 6441331.988, -626291.443...</td>
      <td>POINT (-626791.443 6440831.988)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3328</td>
      <td>POLYGON ((-627291.443 6442331.988, -626291.443...</td>
      <td>POINT (-626791.443 6441831.988)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3329</td>
      <td>POLYGON ((-627291.443 6443331.988, -626291.443...</td>
      <td>POINT (-626791.443 6442831.988)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3330</td>
      <td>POLYGON ((-627291.443 6440331.988, -626291.443...</td>
      <td>POINT (-626791.443 6439831.988)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3331</td>
      <td>POLYGON ((-627291.443 6439331.988, -626291.443...</td>
      <td>POINT (-626791.443 6438831.988)</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>641080</td>
      <td>POLYGON ((195708.557 6853331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6852831.988)</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>641081</td>
      <td>POLYGON ((195708.557 6854331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6853831.988)</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>641082</td>
      <td>POLYGON ((195708.557 6855331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6854831.988)</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>641083</td>
      <td>POLYGON ((195708.557 6856331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6855831.988)</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>641084</td>
      <td>POLYGON ((195708.557 6857331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6856831.988)</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load in the grids that represent the Global Model</span>
<span class="n">global_grids</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">get_global_grids</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">global_grids</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Global Model Grid ID</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>49</td>
      <td>POLYGON ((-180 71.6341, -179.75 71.6341, -179....</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>POLYGON ((-180 71.3841, -179.75 71.3841, -179....</td>
    </tr>
    <tr>
      <th>2</th>
      <td>51</td>
      <td>POLYGON ((-180 71.1341, -179.75 71.1341, -179....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>59</td>
      <td>POLYGON ((-180 69.1341, -179.75 69.1341, -179....</td>
    </tr>
    <tr>
      <th>4</th>
      <td>60</td>
      <td>POLYGON ((-180 68.8841, -179.75 68.8841, -179....</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>363746</th>
      <td>1000796</td>
      <td>POLYGON ((179.75 -88.8659, 180 -88.8659, 180 -...</td>
    </tr>
    <tr>
      <th>363747</th>
      <td>1000797</td>
      <td>POLYGON ((179.75 -89.1159, 180 -89.1159, 180 -...</td>
    </tr>
    <tr>
      <th>363748</th>
      <td>1000798</td>
      <td>POLYGON ((179.75 -89.3659, 180 -89.3659, 180 -...</td>
    </tr>
    <tr>
      <th>363749</th>
      <td>1000799</td>
      <td>POLYGON ((179.75 -89.6159, 180 -89.6159, 180 -...</td>
    </tr>
    <tr>
      <th>363750</th>
      <td>1000800</td>
      <td>POLYGON ((179.75 -89.8659, 180 -89.8659, 180 -...</td>
    </tr>
  </tbody>
</table>
<p>363751 rows × 2 columns</p>
</div></div></div>
</div>
</section>
<section id="load-in-data-for-a-particular-timestamp-for-the-global-dataset-for-all-of-the-grids">
<h2>Load in data for a particular timestamp for the global dataset for all of the grids.<a class="headerlink" href="#load-in-data-for-a-particular-timestamp-for-the-global-dataset-for-all-of-the-grids" title="Link to this heading">#</a></h2>
<p>For the global model the outputs produced are at the hourly level across all of 2022. As such the possible timestamps that can be used are 01-01-2022 000000 to 12-31-2022 230000.</p>
</section>
<section id="load-in-data-for-a-particular-timestamp-for-the-england-dataset-for-all-of-the-grids-and-for-a-single-point-latitude-and-longitude-for-a-single-timestamp">
<h2>Load in data for a particular timestamp for the England dataset for all of the grids, and for a single point (latitude and longitude) for a single timestamp.<a class="headerlink" href="#load-in-data-for-a-particular-timestamp-for-the-england-dataset-for-all-of-the-grids-and-for-a-single-point-latitude-and-longitude-for-a-single-timestamp" title="Link to this heading">#</a></h2>
<p>For the England model the outputs produced are at the hourly level across all of 2018. As such the possible timestamps that can be used are 2018-01-01 000000 2018-12-31 230000</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The format for the UK dataset is year-month-day HourMinuteSecond</span>

<span class="n">uk_dataset_input</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_complete_set_real_time_united_kingdom</span><span class="p">(</span>
        <span class="s2">&quot;2018-01-01_080000&quot;</span><span class="p">,</span> <span class="s2">&quot;Input&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">uk_dataset_output</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_complete_set_real_time_united_kingdom</span><span class="p">(</span>
        <span class="s2">&quot;2018-01-01_080000&quot;</span><span class="p">,</span> <span class="s2">&quot;Output&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># find the set of column names they share</span>
<span class="n">common_cols</span> <span class="o">=</span> <span class="n">uk_dataset_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">uk_dataset_output</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># do an inner merge on *all* of those columns</span>
<span class="n">uk_complete_dataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">uk_dataset_input</span><span class="p">,</span>
    <span class="n">uk_dataset_output</span><span class="p">,</span>
    <span class="n">on</span><span class="o">=</span><span class="n">common_cols</span><span class="p">,</span>
    <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;_input&#39;</span><span class="p">,</span> <span class="s1">&#39;_output&#39;</span><span class="p">)</span>  <span class="c1"># in case there are any other overlapping column names</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">uk_complete_dataset</span><span class="p">)</span>

<span class="n">uk_single_datapoint</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_nearest_point_real_time_united_kingdom</span><span class="p">(</span>
        <span class="mf">51.5</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="s2">&quot;2018-01-01_080000&quot;</span><span class="p">,</span> <span class="n">uk_grids</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">uk_single_datapoint</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Timestamp</th>
      <th>Northing</th>
      <th>Easting</th>
      <th>UK_Model_Grid_ID</th>
      <th>Sentinel_5P_NO2</th>
      <th>Sentinel_5P_AAI</th>
      <th>Sentinel_5P_CO</th>
      <th>Sentinel_5P_HCHO</th>
      <th>Sentinel_5P_O3</th>
      <th>Improved_Grassland</th>
      <th>...</th>
      <th>pm10_Prediction_0p5_Quantile</th>
      <th>pm2p5_Prediction_0p5_Quantile</th>
      <th>so2_Prediction_0p5_Quantile</th>
      <th>nox_Prediction_0p95_Quantile</th>
      <th>no2_Prediction_0p95_Quantile</th>
      <th>no_Prediction_0p95_Quantile</th>
      <th>o3_Prediction_0p95_Quantile</th>
      <th>pm10_Prediction_0p95_Quantile</th>
      <th>pm2p5_Prediction_0p95_Quantile</th>
      <th>so2_Prediction_0p95_Quantile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-01-01 08:00:00</td>
      <td>6406831.988</td>
      <td>-580791.4429</td>
      <td>69788.0</td>
      <td>0.000026</td>
      <td>-0.680777</td>
      <td>0.034165</td>
      <td>0.000056</td>
      <td>0.146806</td>
      <td>0.0</td>
      <td>...</td>
      <td>5.733170</td>
      <td>3.102770</td>
      <td>1.357656</td>
      <td>3.698285</td>
      <td>3.910520</td>
      <td>0.502300</td>
      <td>87.379372</td>
      <td>20.314016</td>
      <td>10.090218</td>
      <td>2.491965</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018-01-01 08:00:00</td>
      <td>6406831.988</td>
      <td>-579791.4429</td>
      <td>20003.0</td>
      <td>0.000026</td>
      <td>-0.674659</td>
      <td>0.033951</td>
      <td>0.000047</td>
      <td>0.146745</td>
      <td>0.0</td>
      <td>...</td>
      <td>6.578017</td>
      <td>3.172893</td>
      <td>1.593904</td>
      <td>8.999120</td>
      <td>6.964017</td>
      <td>0.882930</td>
      <td>87.147446</td>
      <td>20.982574</td>
      <td>10.143843</td>
      <td>3.737706</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018-01-01 08:00:00</td>
      <td>6406831.988</td>
      <td>-578791.4429</td>
      <td>41708.0</td>
      <td>0.000025</td>
      <td>-0.671603</td>
      <td>0.033954</td>
      <td>0.000040</td>
      <td>0.146738</td>
      <td>0.0</td>
      <td>...</td>
      <td>6.031925</td>
      <td>3.059379</td>
      <td>1.087244</td>
      <td>6.069039</td>
      <td>6.696810</td>
      <td>0.764936</td>
      <td>88.270622</td>
      <td>18.584044</td>
      <td>9.783209</td>
      <td>2.522025</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-01-01 08:00:00</td>
      <td>6406831.988</td>
      <td>-577791.4429</td>
      <td>21919.0</td>
      <td>0.000027</td>
      <td>-0.676864</td>
      <td>0.033720</td>
      <td>0.000048</td>
      <td>0.146722</td>
      <td>0.0</td>
      <td>...</td>
      <td>5.161802</td>
      <td>3.311991</td>
      <td>1.084944</td>
      <td>5.648049</td>
      <td>9.119142</td>
      <td>0.757802</td>
      <td>87.966850</td>
      <td>19.379919</td>
      <td>9.989917</td>
      <td>2.787185</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018-01-01 08:00:00</td>
      <td>6406831.988</td>
      <td>-576791.4429</td>
      <td>43330.0</td>
      <td>0.000027</td>
      <td>-0.676864</td>
      <td>0.033720</td>
      <td>0.000048</td>
      <td>0.146722</td>
      <td>0.0</td>
      <td>...</td>
      <td>5.337867</td>
      <td>3.629006</td>
      <td>1.621060</td>
      <td>8.601383</td>
      <td>7.167789</td>
      <td>1.800480</td>
      <td>86.600761</td>
      <td>17.908541</td>
      <td>10.655316</td>
      <td>3.061429</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>2018-01-01 08:00:00</td>
      <td>7484831.988</td>
      <td>-227791.4429</td>
      <td>444920.0</td>
      <td>0.000018</td>
      <td>-0.579919</td>
      <td>0.034893</td>
      <td>0.000024</td>
      <td>0.145916</td>
      <td>386.0</td>
      <td>...</td>
      <td>8.597440</td>
      <td>3.148146</td>
      <td>1.257206</td>
      <td>8.489804</td>
      <td>8.394803</td>
      <td>0.959488</td>
      <td>76.928070</td>
      <td>16.984867</td>
      <td>9.461785</td>
      <td>2.486224</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>2018-01-01 08:00:00</td>
      <td>7484831.988</td>
      <td>-226791.4429</td>
      <td>445936.0</td>
      <td>0.000018</td>
      <td>-0.590634</td>
      <td>0.034789</td>
      <td>0.000046</td>
      <td>0.145883</td>
      <td>134.0</td>
      <td>...</td>
      <td>8.295347</td>
      <td>3.503829</td>
      <td>1.434880</td>
      <td>8.642591</td>
      <td>9.138655</td>
      <td>1.654758</td>
      <td>75.467918</td>
      <td>16.080894</td>
      <td>9.933573</td>
      <td>2.446072</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>2018-01-01 08:00:00</td>
      <td>7484831.988</td>
      <td>-225791.4429</td>
      <td>447806.0</td>
      <td>0.000018</td>
      <td>-0.591730</td>
      <td>0.034638</td>
      <td>0.000044</td>
      <td>0.145918</td>
      <td>0.0</td>
      <td>...</td>
      <td>8.629635</td>
      <td>3.336018</td>
      <td>1.140426</td>
      <td>20.947111</td>
      <td>9.920334</td>
      <td>7.608756</td>
      <td>71.386238</td>
      <td>16.238022</td>
      <td>9.746425</td>
      <td>2.319596</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>2018-01-01 08:00:00</td>
      <td>7485831.988</td>
      <td>-226791.4429</td>
      <td>445937.0</td>
      <td>0.000018</td>
      <td>-0.585021</td>
      <td>0.034764</td>
      <td>0.000048</td>
      <td>0.145861</td>
      <td>53.0</td>
      <td>...</td>
      <td>9.088076</td>
      <td>3.423085</td>
      <td>1.364739</td>
      <td>15.645092</td>
      <td>8.956626</td>
      <td>6.683063</td>
      <td>70.715340</td>
      <td>17.209755</td>
      <td>9.977571</td>
      <td>2.775714</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>2018-01-01 08:00:00</td>
      <td>7485831.988</td>
      <td>-225791.4429</td>
      <td>447807.0</td>
      <td>0.000019</td>
      <td>-0.584271</td>
      <td>0.034770</td>
      <td>0.000025</td>
      <td>0.145875</td>
      <td>0.0</td>
      <td>...</td>
      <td>9.254853</td>
      <td>3.508742</td>
      <td>2.171187</td>
      <td>8.302839</td>
      <td>8.925678</td>
      <td>1.770635</td>
      <td>68.783348</td>
      <td>16.948656</td>
      <td>10.037548</td>
      <td>3.032418</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 184 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accessing air pollution concentration at: Latitude: 51.5, Longitude: 0.12, Time: 2018-01-01_080000
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>geometry Centroid</th>
      <th>Timestamp</th>
      <th>Northing</th>
      <th>Easting</th>
      <th>Sentinel_5P_NO2</th>
      <th>Sentinel_5P_AAI</th>
      <th>Sentinel_5P_CO</th>
      <th>Sentinel_5P_HCHO</th>
      <th>Sentinel_5P_O3</th>
      <th>Improved_Grassland</th>
      <th>...</th>
      <th>NAEI_SNAP_11_PM25</th>
      <th>Month_Number</th>
      <th>Week_Number</th>
      <th>Day_of_Week_Number</th>
      <th>Hour_Number</th>
      <th>Prediction Latitude</th>
      <th>Prediction Longitude</th>
      <th>Distance</th>
      <th>Requested Latitude</th>
      <th>Requested Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>312545</th>
      <td>POINT (13208.557099999976 6676831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6676831.988</td>
      <td>13208.5571</td>
      <td>0.000135</td>
      <td>-0.636229</td>
      <td>0.035495</td>
      <td>0.000055</td>
      <td>0.145079</td>
      <td>27.0</td>
      <td>...</td>
      <td>0.081915</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>51.500416</td>
      <td>0.118654</td>
      <td>0.001408</td>
      <td>51.5</td>
      <td>0.12</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 161 columns</p>
</div></div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-the-different-datapoints-that-have-been-loaded-in-in-both-the-uk-daily-air-quality-index-and-the-higher-level-daily-air-quality-bands">
<h1>Visualise the different datapoints that have been loaded in. In both the <a class="reference external" href="https://uk-air.defra.gov.uk/air-pollution/daqi">UK Daily Air Quality Index</a>, and the higher level Daily Air Quality Bands<a class="headerlink" href="#visualise-the-different-datapoints-that-have-been-loaded-in-in-both-the-uk-daily-air-quality-index-and-the-higher-level-daily-air-quality-bands" title="Link to this heading">#</a></h1>
<section id="uk-model-visualisation">
<h2>UK Model Visualisation<a class="headerlink" href="#uk-model-visualisation" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air_pollution_DF_daily_air_quality_index_uk</span> <span class="o">=</span> <span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">air_pollution_concentrations_to_UK_daily_air_quality_index</span><span class="p">(</span>
    <span class="n">uk_complete_dataset</span><span class="p">,</span> <span class="s2">&quot;no2&quot;</span><span class="p">,</span> <span class="s2">&quot;no2_Prediction_Mean&quot;</span>
<span class="p">)</span>
<span class="n">air_pollution_DF_daily_air_quality_index_uk</span> <span class="o">=</span> <span class="n">uk_grids</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">air_pollution_DF_daily_air_quality_index_uk</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span>
<span class="p">)</span>

<span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">visualise_air_pollution_daily_air_quality_index</span><span class="p">(</span>
    <span class="n">air_pollution_DF_daily_air_quality_index_uk</span><span class="p">,</span>
    <span class="s2">&quot;no2 AQI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uk_2018_01_01_080000_air_quality_index&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">visualise_air_pollution_daily_air_quality_bands</span><span class="p">(</span>
    <span class="n">air_pollution_DF_daily_air_quality_index_uk</span><span class="p">,</span>
    <span class="s2">&quot;no2 Air Quality Index AQI Band&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uk_2018_01_01_080000_air_quality_bands&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1fa5ef007b52f86c1c5ff0be5533022e9f741fd7dfaa5e8df3b52b1c1f75ba18.png" src="_images/1fa5ef007b52f86c1c5ff0be5533022e9f741fd7dfaa5e8df3b52b1c1f75ba18.png" />
<img alt="_images/0d628b424f3576405a6b60b1b5e486d9ec6dd91181cf253a357ed5bea5fe711b.png" src="_images/0d628b424f3576405a6b60b1b5e486d9ec6dd91181cf253a357ed5bea5fe711b.png" />
</div>
</div>
</section>
<section id="global-model-visualisation">
<h2>Global Model Visualisation<a class="headerlink" href="#global-model-visualisation" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#This will be readded in when the third paper is published. </span>
<span class="c1"># air_pollution_DF_daily_air_quality_index_global = ei_air_pollution_functions.air_pollution_concentrations_to_UK_daily_air_quality_index(</span>
<span class="c1">#     global_complete_dataset, &quot;no2&quot;, &quot;no2&quot;</span>
<span class="c1"># )</span>
<span class="c1"># air_pollution_DF_daily_air_quality_index_global = global_grids.merge(</span>
<span class="c1">#     air_pollution_DF_daily_air_quality_index_global, on=&quot;Global_Model_Grid_ID&quot;</span>
<span class="c1"># )</span>

<span class="c1"># ei_air_pollution_functions.visualise_air_pollution_daily_air_quality_index(</span>
<span class="c1">#     air_pollution_DF_daily_air_quality_index_global,</span>
<span class="c1">#     &quot;no2 AQI&quot;,</span>
<span class="c1">#     &quot;global_2018_01_01_080000_air_quality_index&quot;,</span>
<span class="c1"># )</span>
<span class="c1"># ei_air_pollution_functions.visualise_air_pollution_daily_air_quality_bands(</span>
<span class="c1">#     air_pollution_DF_daily_air_quality_index_global,</span>
<span class="c1">#     &quot;no2 Air Quality Index AQI Band&quot;,</span>
<span class="c1">#     &quot;global_2018_01_01_080000_air_quality_bands&quot;,</span>
<span class="c1"># )</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="the-code-from-this-point-onwards-required-you-to-download-the-data-from-google-drive-while-a-more-permanent-solution-for-online-downloading-of-the-data-is-sought">
<h1>The code from this point onwards required you to download the data from google drive while a more permanent solution for online downloading of the data is sought.<a class="headerlink" href="#the-code-from-this-point-onwards-required-you-to-download-the-data-from-google-drive-while-a-more-permanent-solution-for-online-downloading-of-the-data-is-sought" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="load-the-typical-day-data-for-the-uk">
<h1>Load the typical day data for the UK<a class="headerlink" href="#load-the-typical-day-data-for-the-uk" title="Link to this heading">#</a></h1>
<p>A core issue with the use of the data within this package is the amount of data that is avaliable (TBs of data). As such the use of the typical day, e.g. a typical monday in January at 8AM is provided to make conducting analysis more manageable.
The dataset that is used in this tutorial is for Friday in January at midnight.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uk_complete_typical_day_january_friday_midnight</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="mi">0</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">uk_single_datapoint_typical_day_january_friday_midnight</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_nearest_point_typical_day_united_kingdom</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">51.5</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="n">uk_grids</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">uk_complete_typical_day_january_friday_midnight</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">uk_single_datapoint_typical_day_january_friday_midnight</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Northing</th>
      <th>Easting</th>
      <th>UK_Model_Grid_ID</th>
      <th>Bicycle_Score</th>
      <th>Car_and_Taxi_Score</th>
      <th>Bus_and_Coach_Score</th>
      <th>LGV_Score</th>
      <th>HGV_Score</th>
      <th>Road_Infrastructure_Distance_Residential</th>
      <th>Road_Infrastructure_Distance_Footway</th>
      <th>...</th>
      <th>Temperature_2m</th>
      <th>Boundary_Layer_Height</th>
      <th>Downward_UV_Radiation_at_the_Surface</th>
      <th>Instantaneous_10m_Wind_Gust</th>
      <th>Surface_Pressure</th>
      <th>Total_Column_Rain_Water</th>
      <th>Month_Number</th>
      <th>Day_of_Week_Number</th>
      <th>Hour_Number</th>
      <th>Week_Number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6406831.988</td>
      <td>-580791.4429</td>
      <td>69788.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>1280.338745</td>
      <td>684.158630</td>
      <td>...</td>
      <td>281.565918</td>
      <td>977.249329</td>
      <td>0.003397</td>
      <td>13.047138</td>
      <td>101021.273438</td>
      <td>0.011189</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>6406831.988</td>
      <td>-579791.4429</td>
      <td>20003.0</td>
      <td>0.000000</td>
      <td>98419.835938</td>
      <td>188.769760</td>
      <td>0.0</td>
      <td>6469.514648</td>
      <td>577.048645</td>
      <td>239.371246</td>
      <td>...</td>
      <td>281.565918</td>
      <td>977.152710</td>
      <td>0.003397</td>
      <td>13.047523</td>
      <td>101022.343750</td>
      <td>0.011224</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6406831.988</td>
      <td>-578791.4429</td>
      <td>41708.0</td>
      <td>0.000000</td>
      <td>80626.984375</td>
      <td>129.612671</td>
      <td>0.0</td>
      <td>6721.186523</td>
      <td>969.870117</td>
      <td>455.760010</td>
      <td>...</td>
      <td>281.565948</td>
      <td>977.056091</td>
      <td>0.003397</td>
      <td>13.047909</td>
      <td>101023.406250</td>
      <td>0.011259</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6406831.988</td>
      <td>-577791.4429</td>
      <td>21919.0</td>
      <td>0.000000</td>
      <td>24862.167969</td>
      <td>36.379471</td>
      <td>0.0</td>
      <td>2315.278320</td>
      <td>1681.279541</td>
      <td>1421.910400</td>
      <td>...</td>
      <td>281.565948</td>
      <td>976.959412</td>
      <td>0.003397</td>
      <td>13.048295</td>
      <td>101024.476562</td>
      <td>0.011294</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6406831.988</td>
      <td>-576791.4429</td>
      <td>43330.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>2366.653076</td>
      <td>2415.715576</td>
      <td>...</td>
      <td>281.565948</td>
      <td>976.862793</td>
      <td>0.003397</td>
      <td>13.048680</td>
      <td>101025.539062</td>
      <td>0.011329</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>7484831.988</td>
      <td>-227791.4429</td>
      <td>444920.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>560.851562</td>
      <td>598.732727</td>
      <td>...</td>
      <td>277.737762</td>
      <td>750.658569</td>
      <td>0.003397</td>
      <td>11.067246</td>
      <td>99527.226562</td>
      <td>0.003225</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>7484831.988</td>
      <td>-226791.4429</td>
      <td>445936.0</td>
      <td>80.596329</td>
      <td>47103.734375</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>2182.585205</td>
      <td>1480.408081</td>
      <td>1047.788940</td>
      <td>...</td>
      <td>277.758057</td>
      <td>752.038818</td>
      <td>0.003397</td>
      <td>11.068189</td>
      <td>99545.875000</td>
      <td>0.003198</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>7484831.988</td>
      <td>-225791.4429</td>
      <td>447806.0</td>
      <td>51.438866</td>
      <td>30062.939453</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>1392.987793</td>
      <td>2463.465332</td>
      <td>1270.912476</td>
      <td>...</td>
      <td>277.778351</td>
      <td>753.419006</td>
      <td>0.003397</td>
      <td>11.069132</td>
      <td>99564.523438</td>
      <td>0.003171</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>7485831.988</td>
      <td>-226791.4429</td>
      <td>445937.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>1578.710205</td>
      <td>998.964233</td>
      <td>...</td>
      <td>277.781494</td>
      <td>754.068481</td>
      <td>0.003397</td>
      <td>11.112224</td>
      <td>99561.484375</td>
      <td>0.003204</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>7485831.988</td>
      <td>-225791.4429</td>
      <td>447807.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>2523.762939</td>
      <td>1833.933228</td>
      <td>...</td>
      <td>277.801605</td>
      <td>755.429382</td>
      <td>0.003397</td>
      <td>11.113861</td>
      <td>99579.867188</td>
      <td>0.003176</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 155 columns</p>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>geometry Centroid</th>
      <th>Northing</th>
      <th>Easting</th>
      <th>Bicycle_Score</th>
      <th>Car_and_Taxi_Score</th>
      <th>Bus_and_Coach_Score</th>
      <th>LGV_Score</th>
      <th>HGV_Score</th>
      <th>Road_Infrastructure_Distance_Residential</th>
      <th>Road_Infrastructure_Distance_Footway</th>
      <th>...</th>
      <th>Total_Column_Rain_Water</th>
      <th>Month_Number</th>
      <th>Day_of_Week_Number</th>
      <th>Hour_Number</th>
      <th>Week_Number</th>
      <th>Prediction Latitude</th>
      <th>Prediction Longitude</th>
      <th>Distance</th>
      <th>Requested Latitude</th>
      <th>Requested Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>312545</th>
      <td>POINT (13208.557099999976 6676831.988)</td>
      <td>6676831.988</td>
      <td>13208.5571</td>
      <td>0.0</td>
      <td>555899.6875</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>43850.320312</td>
      <td>128.077393</td>
      <td>157.683334</td>
      <td>...</td>
      <td>0.00119</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>51.500416</td>
      <td>0.118654</td>
      <td>0.001408</td>
      <td>51.5</td>
      <td>0.12</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 160 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air_pollution_DF_8am</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_complete_set_real_time_united_kingdom</span><span class="p">(</span>
        <span class="s2">&quot;2018-01-01_080000&quot;</span><span class="p">,</span> <span class="s2">&quot;Output&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">air_pollution_DF_9am</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_complete_set_real_time_united_kingdom</span><span class="p">(</span>
        <span class="s2">&quot;2018-01-01_090000&quot;</span><span class="p">,</span> <span class="s2">&quot;Output&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">air_pollution_DF_9am</span><span class="p">)</span>
<span class="n">air_pollution_DF_8am</span> <span class="o">=</span> <span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">air_pollution_concentrations_to_UK_daily_air_quality_index</span><span class="p">(</span>
    <span class="n">air_pollution_DF_8am</span><span class="p">,</span> <span class="s2">&quot;no2&quot;</span><span class="p">,</span> <span class="s2">&quot;no2_Prediction_Mean&quot;</span>
<span class="p">)</span>

<span class="n">air_pollution_DF_9am</span> <span class="o">=</span> <span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">air_pollution_concentrations_to_UK_daily_air_quality_index</span><span class="p">(</span>
    <span class="n">air_pollution_DF_9am</span><span class="p">,</span> <span class="s2">&quot;no2&quot;</span><span class="p">,</span> <span class="s2">&quot;no2_Prediction_Mean&quot;</span>
<span class="p">)</span>
<span class="n">air_pollution_DF_8am</span> <span class="o">=</span> <span class="n">uk_grids</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">air_pollution_DF_8am</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span><span class="p">)</span>
<span class="n">air_pollution_DF_9am</span> <span class="o">=</span> <span class="n">uk_grids</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">air_pollution_DF_9am</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">air_pollution_DF_8am</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Timestamp</th>
      <th>Northing</th>
      <th>Easting</th>
      <th>UK_Model_Grid_ID</th>
      <th>nox_Prediction_Mean</th>
      <th>no2_Prediction_Mean</th>
      <th>no_Prediction_Mean</th>
      <th>o3_Prediction_Mean</th>
      <th>pm10_Prediction_Mean</th>
      <th>pm2p5_Prediction_Mean</th>
      <th>...</th>
      <th>pm10_Prediction_0p5_Quantile</th>
      <th>pm2p5_Prediction_0p5_Quantile</th>
      <th>so2_Prediction_0p5_Quantile</th>
      <th>nox_Prediction_0p95_Quantile</th>
      <th>no2_Prediction_0p95_Quantile</th>
      <th>no_Prediction_0p95_Quantile</th>
      <th>o3_Prediction_0p95_Quantile</th>
      <th>pm10_Prediction_0p95_Quantile</th>
      <th>pm2p5_Prediction_0p95_Quantile</th>
      <th>so2_Prediction_0p95_Quantile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-01-01 09:00:00</td>
      <td>6406831.988</td>
      <td>-580791.4429</td>
      <td>69788.0</td>
      <td>1.941468</td>
      <td>1.368764</td>
      <td>0.459000</td>
      <td>77.668365</td>
      <td>8.898648</td>
      <td>2.765545</td>
      <td>...</td>
      <td>9.053172</td>
      <td>3.707182</td>
      <td>1.416242</td>
      <td>3.963346</td>
      <td>3.198527</td>
      <td>0.473557</td>
      <td>85.754532</td>
      <td>23.418850</td>
      <td>11.636958</td>
      <td>2.379866</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018-01-01 09:00:00</td>
      <td>6406831.988</td>
      <td>-579791.4429</td>
      <td>20003.0</td>
      <td>3.030114</td>
      <td>2.638813</td>
      <td>0.229153</td>
      <td>78.220139</td>
      <td>9.250736</td>
      <td>2.631991</td>
      <td>...</td>
      <td>9.576310</td>
      <td>3.838824</td>
      <td>1.716380</td>
      <td>7.059394</td>
      <td>4.803483</td>
      <td>0.740815</td>
      <td>85.062889</td>
      <td>22.704617</td>
      <td>11.054633</td>
      <td>3.588175</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018-01-01 09:00:00</td>
      <td>6406831.988</td>
      <td>-578791.4429</td>
      <td>41708.0</td>
      <td>2.750037</td>
      <td>1.199255</td>
      <td>0.204322</td>
      <td>78.083618</td>
      <td>8.213710</td>
      <td>2.493622</td>
      <td>...</td>
      <td>8.503558</td>
      <td>3.681389</td>
      <td>1.171666</td>
      <td>5.225822</td>
      <td>4.659097</td>
      <td>0.725744</td>
      <td>85.927010</td>
      <td>20.840488</td>
      <td>10.841802</td>
      <td>2.425152</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-01-01 09:00:00</td>
      <td>6406831.988</td>
      <td>-577791.4429</td>
      <td>21919.0</td>
      <td>2.890934</td>
      <td>1.149008</td>
      <td>0.475548</td>
      <td>76.330963</td>
      <td>8.204529</td>
      <td>2.872354</td>
      <td>...</td>
      <td>7.601312</td>
      <td>4.089407</td>
      <td>1.107180</td>
      <td>5.483037</td>
      <td>5.582719</td>
      <td>0.768290</td>
      <td>84.970253</td>
      <td>20.519892</td>
      <td>11.080049</td>
      <td>2.556885</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018-01-01 09:00:00</td>
      <td>6406831.988</td>
      <td>-576791.4429</td>
      <td>43330.0</td>
      <td>2.120756</td>
      <td>0.892260</td>
      <td>0.120736</td>
      <td>73.999527</td>
      <td>8.000123</td>
      <td>2.426375</td>
      <td>...</td>
      <td>7.268702</td>
      <td>4.357222</td>
      <td>1.642955</td>
      <td>8.343828</td>
      <td>4.670910</td>
      <td>1.604538</td>
      <td>83.859467</td>
      <td>18.547503</td>
      <td>12.219141</td>
      <td>2.970685</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>2018-01-01 09:00:00</td>
      <td>7484831.988</td>
      <td>-227791.4429</td>
      <td>444920.0</td>
      <td>3.520756</td>
      <td>1.048279</td>
      <td>0.624149</td>
      <td>75.271713</td>
      <td>8.214132</td>
      <td>2.792295</td>
      <td>...</td>
      <td>8.668184</td>
      <td>3.407990</td>
      <td>1.269713</td>
      <td>9.878032</td>
      <td>7.581407</td>
      <td>0.906589</td>
      <td>75.887833</td>
      <td>16.992727</td>
      <td>9.921776</td>
      <td>2.434897</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>2018-01-01 09:00:00</td>
      <td>7484831.988</td>
      <td>-226791.4429</td>
      <td>445936.0</td>
      <td>4.411963</td>
      <td>1.893508</td>
      <td>0.295288</td>
      <td>71.373726</td>
      <td>8.673822</td>
      <td>2.485076</td>
      <td>...</td>
      <td>7.844590</td>
      <td>3.835025</td>
      <td>1.274641</td>
      <td>9.425755</td>
      <td>9.245034</td>
      <td>1.810442</td>
      <td>74.322098</td>
      <td>16.187725</td>
      <td>10.129075</td>
      <td>2.315028</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>2018-01-01 09:00:00</td>
      <td>7484831.988</td>
      <td>-225791.4429</td>
      <td>447806.0</td>
      <td>5.017659</td>
      <td>1.792779</td>
      <td>0.319137</td>
      <td>67.592094</td>
      <td>10.025765</td>
      <td>2.227173</td>
      <td>...</td>
      <td>8.493914</td>
      <td>3.577077</td>
      <td>1.155504</td>
      <td>21.659199</td>
      <td>10.287923</td>
      <td>8.036416</td>
      <td>71.051033</td>
      <td>16.592888</td>
      <td>10.001654</td>
      <td>2.169373</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>2018-01-01 09:00:00</td>
      <td>7485831.988</td>
      <td>-226791.4429</td>
      <td>445937.0</td>
      <td>2.592859</td>
      <td>1.136905</td>
      <td>0.357693</td>
      <td>66.267578</td>
      <td>8.911856</td>
      <td>2.608354</td>
      <td>...</td>
      <td>9.102219</td>
      <td>3.708925</td>
      <td>1.391387</td>
      <td>20.602762</td>
      <td>8.724884</td>
      <td>7.106015</td>
      <td>70.179428</td>
      <td>17.248470</td>
      <td>10.398123</td>
      <td>2.635535</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>2018-01-01 09:00:00</td>
      <td>7485831.988</td>
      <td>-225791.4429</td>
      <td>447807.0</td>
      <td>2.624065</td>
      <td>1.098248</td>
      <td>0.155190</td>
      <td>66.374908</td>
      <td>9.181258</td>
      <td>2.567995</td>
      <td>...</td>
      <td>9.208453</td>
      <td>3.815818</td>
      <td>2.145376</td>
      <td>10.673436</td>
      <td>9.121703</td>
      <td>1.870184</td>
      <td>68.270920</td>
      <td>16.749611</td>
      <td>10.381840</td>
      <td>2.885302</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 32 columns</p>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UK_Model_Grid_ID</th>
      <th>geometry</th>
      <th>geometry Centroid</th>
      <th>Timestamp</th>
      <th>Northing</th>
      <th>Easting</th>
      <th>nox_Prediction_Mean</th>
      <th>no2_Prediction_Mean</th>
      <th>no_Prediction_Mean</th>
      <th>o3_Prediction_Mean</th>
      <th>...</th>
      <th>so2_Prediction_0p5_Quantile</th>
      <th>nox_Prediction_0p95_Quantile</th>
      <th>no2_Prediction_0p95_Quantile</th>
      <th>no_Prediction_0p95_Quantile</th>
      <th>o3_Prediction_0p95_Quantile</th>
      <th>pm10_Prediction_0p95_Quantile</th>
      <th>pm2p5_Prediction_0p95_Quantile</th>
      <th>so2_Prediction_0p95_Quantile</th>
      <th>no2 AQI</th>
      <th>no2 Air Quality Index AQI Band</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3327</td>
      <td>POLYGON ((-627291.443 6441331.988, -626291.443...</td>
      <td>POINT (-626791.443 6440831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6440831.988</td>
      <td>-626791.4429</td>
      <td>2.411720</td>
      <td>1.364011</td>
      <td>0.272455</td>
      <td>83.844078</td>
      <td>...</td>
      <td>1.147541</td>
      <td>4.439404</td>
      <td>4.157645</td>
      <td>0.513852</td>
      <td>85.854401</td>
      <td>20.093130</td>
      <td>9.657495</td>
      <td>5.948624</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3328</td>
      <td>POLYGON ((-627291.443 6442331.988, -626291.443...</td>
      <td>POINT (-626791.443 6441831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6441831.988</td>
      <td>-626791.4429</td>
      <td>2.229689</td>
      <td>1.344347</td>
      <td>0.331872</td>
      <td>89.123886</td>
      <td>...</td>
      <td>1.004601</td>
      <td>5.644552</td>
      <td>5.889436</td>
      <td>0.813379</td>
      <td>87.797501</td>
      <td>20.833918</td>
      <td>9.749293</td>
      <td>2.690150</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3329</td>
      <td>POLYGON ((-627291.443 6443331.988, -626291.443...</td>
      <td>POINT (-626791.443 6442831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6442831.988</td>
      <td>-626791.4429</td>
      <td>3.050975</td>
      <td>1.095805</td>
      <td>0.361245</td>
      <td>77.605217</td>
      <td>...</td>
      <td>1.526809</td>
      <td>4.203918</td>
      <td>3.876387</td>
      <td>0.929299</td>
      <td>86.927094</td>
      <td>21.693327</td>
      <td>10.004307</td>
      <td>3.042588</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3330</td>
      <td>POLYGON ((-627291.443 6440331.988, -626291.443...</td>
      <td>POINT (-626791.443 6439831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6439831.988</td>
      <td>-626791.4429</td>
      <td>1.553109</td>
      <td>0.906666</td>
      <td>0.197462</td>
      <td>84.101326</td>
      <td>...</td>
      <td>1.084606</td>
      <td>2.666461</td>
      <td>2.386462</td>
      <td>0.324122</td>
      <td>87.553307</td>
      <td>18.842777</td>
      <td>9.488449</td>
      <td>4.382380</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3331</td>
      <td>POLYGON ((-627291.443 6439331.988, -626291.443...</td>
      <td>POINT (-626791.443 6438831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6438831.988</td>
      <td>-626791.4429</td>
      <td>2.387597</td>
      <td>1.171014</td>
      <td>0.228570</td>
      <td>79.085945</td>
      <td>...</td>
      <td>0.935753</td>
      <td>3.194524</td>
      <td>3.101614</td>
      <td>0.549851</td>
      <td>84.652092</td>
      <td>19.307291</td>
      <td>9.511324</td>
      <td>2.324759</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>641080</td>
      <td>POLYGON ((195708.557 6853331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6852831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6852831.988</td>
      <td>196208.5571</td>
      <td>14.286054</td>
      <td>10.662587</td>
      <td>2.247685</td>
      <td>63.089848</td>
      <td>...</td>
      <td>1.522658</td>
      <td>26.374025</td>
      <td>19.113750</td>
      <td>5.478654</td>
      <td>77.952507</td>
      <td>21.174980</td>
      <td>11.300642</td>
      <td>3.196029</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>641081</td>
      <td>POLYGON ((195708.557 6854331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6853831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6853831.988</td>
      <td>196208.5571</td>
      <td>8.204675</td>
      <td>5.949625</td>
      <td>1.108966</td>
      <td>69.093666</td>
      <td>...</td>
      <td>1.407368</td>
      <td>20.606041</td>
      <td>15.480545</td>
      <td>3.188479</td>
      <td>76.629166</td>
      <td>22.567741</td>
      <td>11.578231</td>
      <td>2.742573</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>641082</td>
      <td>POLYGON ((195708.557 6855331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6854831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6854831.988</td>
      <td>196208.5571</td>
      <td>9.549654</td>
      <td>3.534935</td>
      <td>0.331843</td>
      <td>75.839874</td>
      <td>...</td>
      <td>1.386341</td>
      <td>13.974378</td>
      <td>11.112648</td>
      <td>2.693116</td>
      <td>78.675690</td>
      <td>20.832916</td>
      <td>11.266427</td>
      <td>2.323258</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>641083</td>
      <td>POLYGON ((195708.557 6856331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6855831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6855831.988</td>
      <td>196208.5571</td>
      <td>7.523200</td>
      <td>3.560001</td>
      <td>0.106067</td>
      <td>76.008591</td>
      <td>...</td>
      <td>1.181614</td>
      <td>6.986648</td>
      <td>7.812216</td>
      <td>1.078218</td>
      <td>77.086151</td>
      <td>17.435972</td>
      <td>10.784443</td>
      <td>1.702878</td>
      <td>1</td>
      <td>Low</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>641084</td>
      <td>POLYGON ((195708.557 6857331.988, 196708.557 6...</td>
      <td>POINT (196208.557 6856831.988)</td>
      <td>2018-01-01 08:00:00</td>
      <td>6856831.988</td>
      <td>196208.5571</td>
      <td>5.878765</td>
      <td>3.606362</td>
      <td>0.162964</td>
      <td>77.619308</td>
      <td>...</td>
      <td>1.423568</td>
      <td>7.341890</td>
      <td>8.560964</td>
      <td>1.047374</td>
      <td>74.242004</td>
      <td>17.344181</td>
      <td>10.710317</td>
      <td>2.043160</td>
      <td>1</td>
      <td>Low</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 36 columns</p>
</div></div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-the-change-in-the-air-pollution-concentration-and-air-quality-index-for-no2-between-8am-and-9am-on-1st-january-2018">
<h1>Visualise the change in the air pollution concentration and air quality index for NO2 between 8am and 9am on 1st January 2018.<a class="headerlink" href="#visualise-the-change-in-the-air-pollution-concentration-and-air-quality-index-for-no2-between-8am-and-9am-on-1st-january-2018" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">change_in_concentrations_visulisation</span><span class="p">(</span>
    <span class="n">air_pollution_DF_8am</span><span class="p">,</span>
    <span class="n">air_pollution_DF_9am</span><span class="p">,</span>
    <span class="s2">&quot;no2_Prediction_Mean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uk_concentration_change_between_8_9_am&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">change_in_aqi_visulisation</span><span class="p">(</span>
    <span class="n">air_pollution_DF_8am</span><span class="p">,</span>
    <span class="n">air_pollution_DF_9am</span><span class="p">,</span>
    <span class="s2">&quot;no2 AQI&quot;</span><span class="p">,</span>
    <span class="s2">&quot;uk_aqi_change_between_8_9_am&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/72fdba2f74b7bc3733351b5524b8a0a55f1797b3c0251220b0ed900e95dc8603.png" src="_images/72fdba2f74b7bc3733351b5524b8a0a55f1797b3c0251220b0ed900e95dc8603.png" />
<img alt="_images/9acc274ab97b6b445deaa13328bbf86c9fdeaf479c02f9a3aeec99cfeee9441a.png" src="_images/9acc274ab97b6b445deaa13328bbf86c9fdeaf479c02f9a3aeec99cfeee9441a.png" />
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualising-the-changes-in-the-air-pollution-concentrations-across-a-number-of-timestamps">
<h1>Visualising the changes in the air pollution concentrations across a number of timestamps.<a class="headerlink" href="#visualising-the-changes-in-the-air-pollution-concentrations-across-a-number-of-timestamps" title="Link to this heading">#</a></h1>
<p>Alongside being able to visualise the changes in air pollution spatially, there is the ability to visualise them temporally, with an aggregate across all of the desired locations.
The example below gives the simple hypothetical scenario of changing the values based on simply doubling, or halving the concerntations. However a model could be plugged into this process as will be seen later.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the change in concentration line example</span>

<span class="c1"># A single month should be used in the example code, with the list days being populated with the days to be analysed, out of [&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;]</span>
<span class="n">month</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">]</span>


<span class="c1"># The baseline_DFs represent the DFs that will create the black link in the graph, with change_* being the DFs that contain the concentrations with some change, in this case the change_positive_DFs being the doubling of the concentrations and</span>
<span class="c1"># change_negative_DFs being the halving of the concentrations.</span>
<span class="n">baseline_DFs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">change_postive_DFs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">change_negative_DFs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">day_of_week</span> <span class="ow">in</span> <span class="n">days</span><span class="p">:</span>

    <span class="c1"># Create a nested list for each day</span>
    <span class="n">baseline_DFs_single_day</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">change_postive_DFs_single_day</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">change_negative_DFs_single_day</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">):</span>

        <span class="n">air_pollution_DF_input</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
                <span class="n">month</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="s2">&quot;Input&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">air_pollution_DF_output</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
                <span class="n">month</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="s2">&quot;Output&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># find the set of column names they share</span>
        <span class="n">common_cols</span> <span class="o">=</span> <span class="n">air_pollution_DF_input</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">air_pollution_DF_output</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        
        <span class="c1"># do an inner merge on *all* of those columns</span>
        <span class="n">air_pollution_DF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">air_pollution_DF_input</span><span class="p">,</span>
            <span class="n">air_pollution_DF_output</span><span class="p">,</span>
            <span class="n">on</span><span class="o">=</span><span class="n">common_cols</span><span class="p">,</span>
            <span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;_input&#39;</span><span class="p">,</span> <span class="s1">&#39;_output&#39;</span><span class="p">)</span>  <span class="c1"># in case there are any other overlapping column names</span>
        <span class="p">)</span>


        <span class="n">air_pollution_DF</span> <span class="o">=</span> <span class="n">air_pollution_DF</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
            <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;nox_Prediction_Mean&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction&quot;</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">baseline_DFs_single_day</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span> <span class="o">=</span> <span class="n">air_pollution_DF</span>
        <span class="n">air_pollution_DF_change</span> <span class="o">=</span> <span class="n">air_pollution_DF</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Double all of the concentrations and add the DF to the corresponding list.</span>
        <span class="n">air_pollution_DF_change</span><span class="p">[</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">air_pollution_DF_change</span><span class="p">[</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">change_postive_DFs_single_day</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span> <span class="o">=</span> <span class="n">air_pollution_DF_change</span>

        <span class="c1"># Repeat the process but for the halving of the concentrations</span>
        <span class="n">air_pollution_DF_change</span> <span class="o">=</span> <span class="n">air_pollution_DF</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">air_pollution_DF_change</span><span class="p">[</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">air_pollution_DF_change</span><span class="p">[</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.5</span>
        <span class="p">)</span>
        <span class="n">change_negative_DFs_single_day</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span> <span class="o">=</span> <span class="n">air_pollution_DF_change</span>

    <span class="n">baseline_DFs</span><span class="p">[</span><span class="n">day_of_week</span><span class="p">]</span> <span class="o">=</span> <span class="n">baseline_DFs_single_day</span>
    <span class="n">change_postive_DFs</span><span class="p">[</span><span class="n">day_of_week</span><span class="p">]</span> <span class="o">=</span> <span class="n">change_postive_DFs_single_day</span>
    <span class="n">change_negative_DFs</span><span class="p">[</span><span class="n">day_of_week</span><span class="p">]</span> <span class="o">=</span> <span class="n">change_negative_DFs_single_day</span>


<span class="n">display</span><span class="p">(</span><span class="n">change_postive_DFs</span><span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Northing</th>
      <th>Easting</th>
      <th>UK_Model_Grid_ID</th>
      <th>Bicycle_Score</th>
      <th>Car_and_Taxi_Score</th>
      <th>Bus_and_Coach_Score</th>
      <th>LGV_Score</th>
      <th>HGV_Score</th>
      <th>Road_Infrastructure_Distance_Residential</th>
      <th>Road_Infrastructure_Distance_Footway</th>
      <th>...</th>
      <th>pm10_Prediction_0p5_Quantile</th>
      <th>pm2p5_Prediction_0p5_Quantile</th>
      <th>so2_Prediction_0p5_Quantile</th>
      <th>nox_Prediction_0p95_Quantile</th>
      <th>no2_Prediction_0p95_Quantile</th>
      <th>no_Prediction_0p95_Quantile</th>
      <th>o3_Prediction_0p95_Quantile</th>
      <th>pm10_Prediction_0p95_Quantile</th>
      <th>pm2p5_Prediction_0p95_Quantile</th>
      <th>so2_Prediction_0p95_Quantile</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>6406831.988</td>
      <td>-580791.4429</td>
      <td>69788.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>1280.338745</td>
      <td>684.158630</td>
      <td>...</td>
      <td>11.441975</td>
      <td>4.480162</td>
      <td>0.633733</td>
      <td>5.057902</td>
      <td>4.742328</td>
      <td>0.597101</td>
      <td>77.178543</td>
      <td>23.183298</td>
      <td>11.309865</td>
      <td>1.762423</td>
    </tr>
    <tr>
      <th>1</th>
      <td>6406831.988</td>
      <td>-579791.4429</td>
      <td>20003.0</td>
      <td>0.000000</td>
      <td>98419.835938</td>
      <td>188.769760</td>
      <td>0.0</td>
      <td>6469.514648</td>
      <td>577.048645</td>
      <td>239.371246</td>
      <td>...</td>
      <td>12.811199</td>
      <td>4.401461</td>
      <td>1.242737</td>
      <td>4.612142</td>
      <td>5.901142</td>
      <td>0.688741</td>
      <td>79.789757</td>
      <td>24.128859</td>
      <td>10.681367</td>
      <td>1.934796</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6406831.988</td>
      <td>-578791.4429</td>
      <td>41708.0</td>
      <td>0.000000</td>
      <td>80626.984375</td>
      <td>129.612671</td>
      <td>0.0</td>
      <td>6721.186523</td>
      <td>969.870117</td>
      <td>455.760010</td>
      <td>...</td>
      <td>11.808648</td>
      <td>4.363959</td>
      <td>0.774476</td>
      <td>4.750860</td>
      <td>6.719103</td>
      <td>0.698497</td>
      <td>77.452599</td>
      <td>22.905190</td>
      <td>11.384246</td>
      <td>2.201080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6406831.988</td>
      <td>-577791.4429</td>
      <td>21919.0</td>
      <td>0.000000</td>
      <td>24862.167969</td>
      <td>36.379471</td>
      <td>0.0</td>
      <td>2315.278320</td>
      <td>1681.279541</td>
      <td>1421.910400</td>
      <td>...</td>
      <td>10.823124</td>
      <td>4.562641</td>
      <td>0.915494</td>
      <td>5.702785</td>
      <td>5.136529</td>
      <td>0.663352</td>
      <td>78.765457</td>
      <td>23.431173</td>
      <td>11.441548</td>
      <td>2.154057</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6406831.988</td>
      <td>-576791.4429</td>
      <td>43330.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>2366.653076</td>
      <td>2415.715576</td>
      <td>...</td>
      <td>10.891258</td>
      <td>5.380339</td>
      <td>1.186813</td>
      <td>8.412834</td>
      <td>6.104919</td>
      <td>1.747221</td>
      <td>71.950645</td>
      <td>21.597229</td>
      <td>13.562875</td>
      <td>2.795234</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>355822</th>
      <td>7484831.988</td>
      <td>-227791.4429</td>
      <td>444920.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>560.851562</td>
      <td>598.732727</td>
      <td>...</td>
      <td>9.122108</td>
      <td>4.735170</td>
      <td>1.243904</td>
      <td>16.356863</td>
      <td>8.561252</td>
      <td>1.621391</td>
      <td>76.100845</td>
      <td>19.723269</td>
      <td>12.144406</td>
      <td>3.902158</td>
    </tr>
    <tr>
      <th>355823</th>
      <td>7484831.988</td>
      <td>-226791.4429</td>
      <td>445936.0</td>
      <td>80.596329</td>
      <td>47103.734375</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>2182.585205</td>
      <td>1480.408081</td>
      <td>1047.788940</td>
      <td>...</td>
      <td>8.333984</td>
      <td>3.882011</td>
      <td>1.274280</td>
      <td>11.529066</td>
      <td>6.589286</td>
      <td>0.923066</td>
      <td>76.024727</td>
      <td>18.494312</td>
      <td>11.838426</td>
      <td>1.917808</td>
    </tr>
    <tr>
      <th>355824</th>
      <td>7484831.988</td>
      <td>-225791.4429</td>
      <td>447806.0</td>
      <td>51.438866</td>
      <td>30062.939453</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>1392.987793</td>
      <td>2463.465332</td>
      <td>1270.912476</td>
      <td>...</td>
      <td>8.267007</td>
      <td>3.731025</td>
      <td>1.253040</td>
      <td>27.634800</td>
      <td>8.839131</td>
      <td>6.036098</td>
      <td>72.246391</td>
      <td>18.344259</td>
      <td>11.454227</td>
      <td>1.902168</td>
    </tr>
    <tr>
      <th>355825</th>
      <td>7485831.988</td>
      <td>-226791.4429</td>
      <td>445937.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>1578.710205</td>
      <td>998.964233</td>
      <td>...</td>
      <td>9.938605</td>
      <td>3.897847</td>
      <td>1.454898</td>
      <td>28.351791</td>
      <td>9.462789</td>
      <td>7.096638</td>
      <td>68.832474</td>
      <td>19.294586</td>
      <td>11.806692</td>
      <td>2.584531</td>
    </tr>
    <tr>
      <th>355826</th>
      <td>7485831.988</td>
      <td>-225791.4429</td>
      <td>447807.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>2523.762939</td>
      <td>1833.933228</td>
      <td>...</td>
      <td>9.996321</td>
      <td>3.892369</td>
      <td>1.922182</td>
      <td>14.933284</td>
      <td>9.552669</td>
      <td>2.448631</td>
      <td>67.928360</td>
      <td>20.563061</td>
      <td>12.001455</td>
      <td>3.121997</td>
    </tr>
  </tbody>
</table>
<p>355827 rows × 183 columns</p>
</div></div></div>
</div>
<section id="visualise-the-changes-based-on-the-list-of-dataframe">
<h2>Visualise the changes based on the list of dataframe.<a class="headerlink" href="#visualise-the-changes-based-on-the-list-of-dataframe" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">change_in_concentration_line</span><span class="p">(</span>
    <span class="s2">&quot;nox&quot;</span><span class="p">,</span>
    <span class="n">baseline_DFs</span><span class="p">,</span>
    <span class="n">change_postive_DFs</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">],</span>
    <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">)),</span>
    <span class="s2">&quot;nox_change_line_positive&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">change_in_concentration_line</span><span class="p">(</span>
    <span class="s2">&quot;nox&quot;</span><span class="p">,</span>
    <span class="n">baseline_DFs</span><span class="p">,</span>
    <span class="n">change_negative_DFs</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">],</span>
    <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">)),</span>
    <span class="s2">&quot;nox_change_line_negative&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6c825970c231f0207c365bcee2f2949caa7ac80229efa69b9a52f1658ba08333.png" src="_images/6c825970c231f0207c365bcee2f2949caa7ac80229efa69b9a52f1658ba08333.png" />
<img alt="_images/cbbe0ea21c22382b991727035616a20562933290b8eecbbd88e05e4e6a642aed.png" src="_images/cbbe0ea21c22382b991727035616a20562933290b8eecbbd88e05e4e6a642aed.png" />
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="example-of-using-the-model-to-create-new-predictions-based-on-a-changing-feature-vector">
<h1>Example of using the model to create new predictions based on a changing feature vector.<a class="headerlink" href="#example-of-using-the-model-to-create-new-predictions-based-on-a-changing-feature-vector" title="Link to this heading">#</a></h1>
<p>Exploring the air pollution change when the wind gust doubles across all locations within the feature vector.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">climate_projection_model</span> <span class="o">=</span> <span class="n">ei_models</span><span class="o">.</span><span class="n">load_model_united_kingdom</span><span class="p">(</span>
    <span class="s2">&quot;0.5&quot;</span><span class="p">,</span> <span class="s2">&quot;no2&quot;</span><span class="p">,</span> <span class="s2">&quot;All&quot;</span>
<span class="p">)</span>

<span class="n">typical_day_feature_vector</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="mi">8</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">typical_day_feature_vector_climate_change</span> <span class="o">=</span> <span class="n">typical_day_feature_vector</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Double the wind gusts within the feature vector DF.</span>
<span class="n">typical_day_feature_vector_climate_change</span><span class="p">[</span><span class="s2">&quot;Instantaneous_10m_Wind_Gust&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">typical_day_feature_vector_climate_change</span><span class="p">[</span><span class="s2">&quot;Instantaneous_10m_Wind_Gust&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">climate_projection_model</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/no2/All_Stations/no2/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/no2/All_Stations/no2/model_params.json
</pre></div>
</div>
<div class="output text_html"><style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LGBMRegressor(alpha=0.5, boosting_type=&#x27;goss&#x27;, deterministic=True, max_bin=255,
              min_data_in_leaf=3915, n_estimators=1230, n_jobs=-1,
              num_leaves=2274, num_threads=30, objective=&#x27;quantile&#x27;,
              reg_lambda=0.25, silent=&#x27;warn&#x27;, verbose=-1)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>LGBMRegressor</div></div><div><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>LGBMRegressor(alpha=0.5, boosting_type=&#x27;goss&#x27;, deterministic=True, max_bin=255,
              min_data_in_leaf=3915, n_estimators=1230, n_jobs=-1,
              num_leaves=2274, num_threads=30, objective=&#x27;quantile&#x27;,
              reg_lambda=0.25, silent=&#x27;warn&#x27;, verbose=-1)</pre></div> </div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the air pollution predicitons for the old and the new feature vector and describe the data, highlighting the changes between the scenarios.</span>

<span class="n">display</span><span class="p">(</span>
    <span class="n">ei_models</span><span class="o">.</span><span class="n">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
        <span class="n">climate_projection_model</span><span class="p">,</span>
        <span class="n">typical_day_feature_vector</span><span class="p">,</span>
        <span class="n">ei_models</span><span class="o">.</span><span class="n">get_model_feature_vector</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">),</span>
    <span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span>
    <span class="n">ei_models</span><span class="o">.</span><span class="n">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
        <span class="n">climate_projection_model</span><span class="p">,</span>
        <span class="n">typical_day_feature_vector_climate_change</span><span class="p">,</span>
        <span class="n">ei_models</span><span class="o">.</span><span class="n">get_model_feature_vector</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">),</span>
    <span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UK_Model_Grid_ID</th>
      <th>Model Prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>355827.000000</td>
      <td>355827.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>443642.723430</td>
      <td>13.494427</td>
    </tr>
    <tr>
      <th>std</th>
      <td>136366.465735</td>
      <td>12.027322</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3327.000000</td>
      <td>0.945760</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>361150.500000</td>
      <td>5.385427</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>462899.000000</td>
      <td>9.853278</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>552098.500000</td>
      <td>16.311187</td>
    </tr>
    <tr>
      <th>max</th>
      <td>641084.000000</td>
      <td>169.653166</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UK_Model_Grid_ID</th>
      <th>Model Prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>355827.000000</td>
      <td>355827.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>443642.723430</td>
      <td>11.230134</td>
    </tr>
    <tr>
      <th>std</th>
      <td>136366.465735</td>
      <td>9.222002</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3327.000000</td>
      <td>0.833861</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>361150.500000</td>
      <td>4.798834</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>462899.000000</td>
      <td>8.482959</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>552098.500000</td>
      <td>13.961881</td>
    </tr>
    <tr>
      <th>max</th>
      <td>641084.000000</td>
      <td>136.247413</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="access-up-to-date-openstreetmaps-data">
<h1>Access Up to Date OpenStreetMaps data<a class="headerlink" href="#access-up-to-date-openstreetmaps-data" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Access the amenities of interest, in this case hospitals.</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="p">[</span><span class="mf">51.29</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.51</span><span class="p">,</span> <span class="mf">51.69</span><span class="p">,</span> <span class="mf">0.33</span><span class="p">]</span>  <span class="c1"># Example bounding box around Berlin</span>
<span class="n">amenities_gdf</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">get_amenities_as_geodataframe</span><span class="p">(</span><span class="s2">&quot;hospital&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">bbox</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">amenities_gdf</span><span class="p">)</span>

<span class="c1"># Access the highways of interest, in this case motorways.</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="p">[</span><span class="mf">49.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.5</span><span class="p">,</span> <span class="mf">60.9</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">]</span>
<span class="n">highways_gdf</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">get_highways_as_geodataframe</span><span class="p">(</span><span class="s2">&quot;motorway&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">bbox</span><span class="p">)</span>
<span class="n">highways_gdf</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="mi">4326</span>
<span class="n">highways_gdf</span> <span class="o">=</span> <span class="n">highways_gdf</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="mi">3395</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">highways_gdf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Priory Hospital</td>
      <td>POINT (-0.1183 51.63206)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bridge Lane Health Centre</td>
      <td>POINT (-0.16632 51.47327)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>British Home &amp; Hospital for Incurables</td>
      <td>POINT (-0.10707 51.42309)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Chelsfield Park Hospital</td>
      <td>POINT (0.13167 51.35826)</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jasmine Centre</td>
      <td>POINT (0.26085 51.4339)</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>215</th>
      <td>City &amp; Hackney Centre for Mental Health</td>
      <td>POINT (-0.04441 51.55033)</td>
    </tr>
    <tr>
      <th>216</th>
      <td>Maudsley Hospital</td>
      <td>POINT (-0.09026 51.46904)</td>
    </tr>
    <tr>
      <th>217</th>
      <td>London Clinic</td>
      <td>POINT (-0.14997 51.5229)</td>
    </tr>
    <tr>
      <th>218</th>
      <td>The Priory</td>
      <td>POINT (-0.2516 51.46226)</td>
    </tr>
    <tr>
      <th>219</th>
      <td>Molesey Community Hospital</td>
      <td>POINT (-0.37253 51.39734)</td>
    </tr>
  </tbody>
</table>
<p>220 rows × 2 columns</p>
</div></div><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>geometry</th>
      <th>highway</th>
      <th>source</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Unknown</td>
      <td>LINESTRING (-194749.82 6867752.651, -194547.34...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Unknown</td>
      <td>LINESTRING (-192546.852 6864775.738, -192550.5...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Unknown</td>
      <td>LINESTRING (-378574.567 7510216.49, -378579.16...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Unknown</td>
      <td>LINESTRING (-380180.05 7513764.306, -380104.98...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Unknown</td>
      <td>LINESTRING (-379081.772 7511845.266, -379154.3...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>13228</th>
      <td>Unknown</td>
      <td>LINESTRING (-286028.307 7029174.611, -286099.9...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>13229</th>
      <td>Unknown</td>
      <td>LINESTRING (-286099.919 7029232.565, -286325.8...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>13230</th>
      <td>Unknown</td>
      <td>LINESTRING (-475424.628 7493690.047, -475429.1...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>13231</th>
      <td>Unknown</td>
      <td>LINESTRING (-3008.053 6709264.01, -3028.202 67...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
    <tr>
      <th>13232</th>
      <td>Unknown</td>
      <td>LINESTRING (-3005.827 6709291.355, -2981.325 6...</td>
      <td>motorway</td>
      <td>osm</td>
    </tr>
  </tbody>
</table>
<p>13233 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add into the feature vector a new distance feature vector element for a new moroway onto the exists motorway network.</span>
<span class="n">start_point</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.071113</span><span class="p">,</span> <span class="mf">52.231664</span><span class="p">]</span>
<span class="n">end_point</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">52.6</span><span class="p">]</span>
<span class="n">uk_grids_centroid</span> <span class="o">=</span> <span class="n">uk_grids</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">uk_grids_centroid</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uk_grids_centroid</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span>
<span class="n">new_data</span><span class="p">,</span> <span class="n">highways_user_added</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">calculate_new_metrics_distance_total</span><span class="p">(</span>
    <span class="n">highways_gdf</span><span class="p">,</span> <span class="s2">&quot;motorway&quot;</span><span class="p">,</span> <span class="n">start_point</span><span class="p">,</span> <span class="n">end_point</span><span class="p">,</span> <span class="n">uk_grids_centroid</span><span class="p">,</span> <span class="n">uk_grids</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># visualise the new motorway segment (red) alongside the currently existing network (blue)</span>
<span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;osm&quot;</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;User Added&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">highways_gdf</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">highways_user_added</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">color_map</span><span class="p">))</span>
<span class="n">axes</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="c1"># Create custom legend handles</span>
<span class="n">legend_elements</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Current</span><span class="se">\n</span><span class="s2">Motorway&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Add the custom legend to the axis</span>
<span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">handles</span><span class="o">=</span><span class="n">legend_elements</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">),</span> <span class="n">markerscale</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">highways_user_added</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">highways_user_added</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">color_map</span><span class="p">))</span>
<span class="n">axes</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="c1"># Create custom legend handles</span>
<span class="n">legend_elements</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Proposed</span><span class="se">\n</span><span class="s2">Motorway&quot;</span><span class="p">),</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Current</span><span class="se">\n</span><span class="s2">Motorway&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Add the custom legend to the axis</span>
<span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">handles</span><span class="o">=</span><span class="n">legend_elements</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">),</span> <span class="n">markerscale</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>

<span class="c1"># Load in the different models.</span>
<span class="n">air_pollutants</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;no2&quot;</span><span class="p">,</span> <span class="s2">&quot;o3&quot;</span><span class="p">,</span> <span class="s2">&quot;pm10&quot;</span><span class="p">,</span> <span class="s2">&quot;pm2.5&quot;</span><span class="p">,</span> <span class="s2">&quot;so2&quot;</span><span class="p">]</span>
<span class="n">complete_models</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">air_pollutant</span> <span class="ow">in</span> <span class="n">air_pollutants</span><span class="p">:</span>
    <span class="n">complete_models</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">]</span> <span class="o">=</span> <span class="n">ei_models</span><span class="o">.</span><span class="n">load_model_united_kingdom</span><span class="p">(</span>
        <span class="s2">&quot;0.5&quot;</span><span class="p">,</span> <span class="n">air_pollutant</span><span class="p">,</span> <span class="s2">&quot;All&quot;</span>
    <span class="p">)</span>

<span class="n">typical_day_feature_vector</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="mi">8</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/no2/All_Stations/no2/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/no2/All_Stations/no2/model_params.json
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/o3/All_Stations/o3/model_booster.txt -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/o3/All_Stations/o3
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/o3/All_Stations/o3/model_params.json -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/o3/All_Stations/o3
Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/o3/All_Stations/o3/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/o3/All_Stations/o3/model_params.json
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10/model_booster.txt -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10/model_params.json -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10
Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm10/All_Stations/pm10/model_params.json
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5/model_booster.txt -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5/model_params.json -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5
Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/pm2.5/All_Stations/pm2.5/model_params.json
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/so2/All_Stations/so2/model_booster.txt -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/so2/All_Stations/so2
Downloaded: https://dap.ceda.ac.uk/badc/deposited2025/ML-HAPPE/Models/0.5/so2/All_Stations/so2/model_params.json -&gt; environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/so2/All_Stations/so2
Model loaded successfully from environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/so2/All_Stations/so2/model_booster.txt and environmental_insights/environmental_insights_models/ML-HAPPE/Models/0.5/so2/All_Stations/so2/model_params.json
</pre></div>
</div>
<img alt="_images/5141145d81e9eb13539293aa8d1e0c7f40f7f9a1120d4ea76f039815e761db78.png" src="_images/5141145d81e9eb13539293aa8d1e0c7f40f7f9a1120d4ea76f039815e761db78.png" />
<img alt="_images/c5f8d92e69d47c851838c4bf541d5fc69f1fdbf555fcaf3dce908ebfd392b1b1.png" src="_images/c5f8d92e69d47c851838c4bf541d5fc69f1fdbf555fcaf3dce908ebfd392b1b1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The same process as above, is conducted with a real model, and the example of changing the motorway network analysed in the feature vector.</span>
<span class="n">baseline_DFs_air_pollutant</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">change_DFs_air_pollutant</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">air_pollutant</span> <span class="ow">in</span> <span class="n">air_pollutants</span><span class="p">:</span>
    <span class="n">month</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">days</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">]</span>
    <span class="n">baseline_DFs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">changeDFs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">day_of_week</span> <span class="ow">in</span> <span class="n">days</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">day_of_week</span><span class="p">)</span>
        <span class="n">baseline_DFs_single_day</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">change_DFs_single_day</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">):</span>

            <span class="c1"># Read in the relevant feature vector for the desired timestamp.</span>
            <span class="n">feature_vector</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">air_pollution_concentration_typical_day_real_time_united_kingdom</span><span class="p">(</span>
                <span class="n">month</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">,</span> <span class="n">hour</span>
            <span class="p">)</span>

            <span class="c1"># Create the baseline based on the current data</span>
            <span class="n">air_pollution_estimation_baseline</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ei_models</span><span class="o">.</span><span class="n">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
                    <span class="n">complete_models</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">],</span>
                    <span class="n">feature_vector</span><span class="p">,</span>
                    <span class="n">ei_models</span><span class="o">.</span><span class="n">get_model_feature_vector</span><span class="p">(</span>
                        <span class="s2">&quot;All&quot;</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">air_pollution_estimation_baseline</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">air_pollution_estimation_baseline</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction Baseline&quot;</span><span class="p">}</span>
                <span class="p">)</span>
            <span class="p">)</span>
            

            <span class="n">new_data</span> <span class="o">=</span> <span class="n">new_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Road Infrastructure Distance motorway&quot;</span><span class="p">:</span><span class="s2">&quot;Road_Infrastructure_Distance_Motorway&quot;</span><span class="p">})</span>
            <span class="n">new_data</span> <span class="o">=</span> <span class="n">new_data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Total Length motorway&quot;</span><span class="p">:</span><span class="s2">&quot;Total_Length_Motorway&quot;</span><span class="p">})</span>
                
            <span class="c1"># Modify the feature vector to include details of the new motorway segment.</span>
            <span class="n">feature_vector_modified</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">replace_feature_vector_column</span><span class="p">(</span>
                <span class="n">feature_vector</span><span class="p">,</span> <span class="n">new_data</span><span class="p">,</span> <span class="s2">&quot;Road_Infrastructure_Distance_Motorway&quot;</span>
            <span class="p">)</span>
            <span class="n">feature_vector_modified</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">replace_feature_vector_column</span><span class="p">(</span>
                <span class="n">feature_vector_modified</span><span class="p">,</span> <span class="n">new_data</span><span class="p">,</span> <span class="s2">&quot;Total_Length_Motorway&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Calculate the new air pollution concentrations based on the modified feature vector.</span>
            <span class="n">air_pollution_estimation_modified</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ei_models</span><span class="o">.</span><span class="n">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
                    <span class="n">complete_models</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">],</span>
                    <span class="n">feature_vector_modified</span><span class="p">,</span>
                    <span class="n">ei_models</span><span class="o">.</span><span class="n">get_model_feature_vector</span><span class="p">(</span>
                        <span class="s2">&quot;All&quot;</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>
            
            <span class="n">air_pollution_estimation_modified</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">air_pollution_estimation_modified</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
                    <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction Modified&quot;</span><span class="p">}</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="n">air_pollution_estimation</span> <span class="o">=</span> <span class="n">air_pollution_estimation_modified</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
                <span class="n">air_pollution_estimation_baseline</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span>
            <span class="p">)</span>


            <span class="n">air_pollution_estimation_difference</span> <span class="o">=</span> <span class="n">air_pollution_estimation</span><span class="p">[</span>
                <span class="n">air_pollution_estimation</span><span class="p">[</span><span class="s2">&quot;Model Prediction Baseline&quot;</span><span class="p">]</span>
                <span class="o">!=</span> <span class="n">air_pollution_estimation</span><span class="p">[</span><span class="s2">&quot;Model Prediction Modified&quot;</span><span class="p">]</span>
            <span class="p">]</span>

            <span class="n">baseline_DFs_single_day</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span> <span class="o">=</span> <span class="n">air_pollution_estimation_difference</span><span class="p">[</span>
                <span class="p">[</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;Model Prediction Baseline&quot;</span><span class="p">]</span>
            <span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Model Prediction Baseline&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction&quot;</span><span class="p">})</span>
            <span class="n">change_DFs_single_day</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span> <span class="o">=</span> <span class="n">air_pollution_estimation_difference</span><span class="p">[</span>
                <span class="p">[</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;Model Prediction Modified&quot;</span><span class="p">]</span>
            <span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Model Prediction Modified&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction&quot;</span><span class="p">})</span>

        <span class="n">baseline_DFs</span><span class="p">[</span><span class="n">day_of_week</span><span class="p">]</span> <span class="o">=</span> <span class="n">baseline_DFs_single_day</span>
        <span class="n">changeDFs</span><span class="p">[</span><span class="n">day_of_week</span><span class="p">]</span> <span class="o">=</span> <span class="n">change_DFs_single_day</span>
    <span class="n">baseline_DFs_air_pollutant</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">]</span> <span class="o">=</span> <span class="n">baseline_DFs</span>
    <span class="n">change_DFs_air_pollutant</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">]</span> <span class="o">=</span> <span class="n">changeDFs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Friday&#39;
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span> <span class="n">line</span> <span class="mi">50</span>
<span class="g g-Whitespace">     </span><span class="mi">44</span> <span class="n">feature_vector_modified</span> <span class="o">=</span> <span class="n">ei_data</span><span class="o">.</span><span class="n">replace_feature_vector_column</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span>     <span class="n">feature_vector_modified</span><span class="p">,</span> <span class="n">new_data</span><span class="p">,</span> <span class="s2">&quot;Total_Length_Motorway&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">46</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">48</span> <span class="c1"># Calculate the new air pollution concentrations based on the modified feature vector.</span>
<span class="g g-Whitespace">     </span><span class="mi">49</span> <span class="n">air_pollution_estimation_modified</span> <span class="o">=</span> <span class="p">(</span>
<span class="ne">---&gt; </span><span class="mi">50</span>     <span class="n">ei_models</span><span class="o">.</span><span class="n">make_concentration_predictions_united_kingdom</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">51</span>         <span class="n">complete_models</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">],</span>
<span class="g g-Whitespace">     </span><span class="mi">52</span>         <span class="n">feature_vector_modified</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">53</span>         <span class="n">ei_models</span><span class="o">.</span><span class="n">get_model_feature_vector</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span>             <span class="s2">&quot;All&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span>         <span class="p">),</span>
<span class="g g-Whitespace">     </span><span class="mi">56</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span> <span class="n">air_pollution_estimation_modified</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">60</span>     <span class="n">air_pollution_estimation_modified</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">61</span>         <span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Model Prediction&quot;</span><span class="p">:</span> <span class="s2">&quot;Model Prediction Modified&quot;</span><span class="p">}</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">63</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">65</span> <span class="n">air_pollution_estimation</span> <span class="o">=</span> <span class="n">air_pollution_estimation_modified</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">66</span>     <span class="n">air_pollution_estimation_baseline</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;UK_Model_Grid_ID&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="p">)</span>

<span class="nn">File ~/Documents/EI/Environmental-Insights/environmental_insights/models.py:167,</span> in <span class="ni">make_concentration_predictions_united_kingdom</span><span class="nt">(estimating_model, observation_data, feature_names)</span>
<span class="g g-Whitespace">    </span><span class="mi">164</span> <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_names</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">166</span> <span class="c1"># Prediction</span>
<span class="ne">--&gt; </span><span class="mi">167</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">estimating_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">169</span> <span class="c1"># Transform back from log space</span>
<span class="g g-Whitespace">    </span><span class="mi">170</span> <span class="n">preds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">preds</span><span class="p">)</span> <span class="o">-</span> <span class="mf">1e-7</span>

<span class="nn">File ~/miniconda3/envs/GPU/lib/python3.13/site-packages/lightgbm/sklearn.py:1144,</span> in <span class="ni">LGBMModel.predict</span><span class="nt">(self, X, raw_score, start_iteration, num_iteration, pred_leaf, pred_contrib, validate_features, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1141</span> <span class="n">predict_params</span> <span class="o">=</span> <span class="n">_choose_param_value</span><span class="p">(</span><span class="s2">&quot;num_threads&quot;</span><span class="p">,</span> <span class="n">predict_params</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1142</span> <span class="n">predict_params</span><span class="p">[</span><span class="s2">&quot;num_threads&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_n_jobs</span><span class="p">(</span><span class="n">predict_params</span><span class="p">[</span><span class="s2">&quot;num_threads&quot;</span><span class="p">])</span>
<span class="ne">-&gt; </span><span class="mi">1144</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Booster</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>  <span class="c1"># type: ignore[union-attr]</span>
<span class="g g-Whitespace">   </span><span class="mi">1145</span>     <span class="n">X</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1146</span>     <span class="n">raw_score</span><span class="o">=</span><span class="n">raw_score</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1147</span>     <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1148</span>     <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1149</span>     <span class="n">pred_leaf</span><span class="o">=</span><span class="n">pred_leaf</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1150</span>     <span class="n">pred_contrib</span><span class="o">=</span><span class="n">pred_contrib</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1151</span>     <span class="n">validate_features</span><span class="o">=</span><span class="n">validate_features</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1152</span>     <span class="o">**</span><span class="n">predict_params</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1153</span> <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/GPU/lib/python3.13/site-packages/lightgbm/basic.py:4767,</span> in <span class="ni">Booster.predict</span><span class="nt">(self, data, start_iteration, num_iteration, raw_score, pred_leaf, pred_contrib, data_has_header, validate_features, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">4765</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">4766</span>         <span class="n">num_iteration</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="ne">-&gt; </span><span class="mi">4767</span> <span class="k">return</span> <span class="n">predictor</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">4768</span>     <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4769</span>     <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4770</span>     <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4771</span>     <span class="n">raw_score</span><span class="o">=</span><span class="n">raw_score</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4772</span>     <span class="n">pred_leaf</span><span class="o">=</span><span class="n">pred_leaf</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4773</span>     <span class="n">pred_contrib</span><span class="o">=</span><span class="n">pred_contrib</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4774</span>     <span class="n">data_has_header</span><span class="o">=</span><span class="n">data_has_header</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4775</span>     <span class="n">validate_features</span><span class="o">=</span><span class="n">validate_features</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">4776</span> <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/GPU/lib/python3.13/site-packages/lightgbm/basic.py:1204,</span> in <span class="ni">_InnerPredictor.predict</span><span class="nt">(self, data, start_iteration, num_iteration, raw_score, pred_leaf, pred_contrib, data_has_header, validate_features)</span>
<span class="g g-Whitespace">   </span><span class="mi">1197</span>     <span class="n">preds</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pred_for_csc</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1198</span>         <span class="n">csc</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1199</span>         <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1200</span>         <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1201</span>         <span class="n">predict_type</span><span class="o">=</span><span class="n">predict_type</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1202</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1203</span> <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1204</span>     <span class="n">preds</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pred_for_np2d</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1205</span>         <span class="n">mat</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1206</span>         <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1207</span>         <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1208</span>         <span class="n">predict_type</span><span class="o">=</span><span class="n">predict_type</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1209</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1210</span> <span class="k">elif</span> <span class="n">_is_pyarrow_table</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">1211</span>     <span class="n">preds</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pred_for_pyarrow_table</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1212</span>         <span class="n">table</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1213</span>         <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1214</span>         <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1215</span>         <span class="n">predict_type</span><span class="o">=</span><span class="n">predict_type</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1216</span>     <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/GPU/lib/python3.13/site-packages/lightgbm/basic.py:1361,</span> in <span class="ni">_InnerPredictor.__pred_for_np2d</span><span class="nt">(self, mat, start_iteration, num_iteration, predict_type)</span>
<span class="g g-Whitespace">   </span><span class="mi">1359</span>     <span class="k">return</span> <span class="n">preds</span><span class="p">,</span> <span class="n">nrow</span>
<span class="g g-Whitespace">   </span><span class="mi">1360</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1361</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inner_predict_np2d</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1362</span>         <span class="n">mat</span><span class="o">=</span><span class="n">mat</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1363</span>         <span class="n">start_iteration</span><span class="o">=</span><span class="n">start_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1364</span>         <span class="n">num_iteration</span><span class="o">=</span><span class="n">num_iteration</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1365</span>         <span class="n">predict_type</span><span class="o">=</span><span class="n">predict_type</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1366</span>         <span class="n">preds</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1367</span>     <span class="p">)</span>

<span class="nn">File ~/miniconda3/envs/GPU/lib/python3.13/site-packages/lightgbm/basic.py:1308,</span> in <span class="ni">_InnerPredictor.__inner_predict_np2d</span><span class="nt">(self, mat, start_iteration, num_iteration, predict_type, preds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1305</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wrong length of pre-allocated predict array&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1306</span> <span class="n">out_num_preds</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int64</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1307</span> <span class="n">_safe_call</span><span class="p">(</span>
<span class="ne">-&gt; </span><span class="mi">1308</span>     <span class="n">_LIB</span><span class="o">.</span><span class="n">LGBM_BoosterPredictForMat</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1309</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1310</span>         <span class="n">ptr_data</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1311</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">type_ptr_data</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1312</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int32</span><span class="p">(</span><span class="n">mat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
<span class="g g-Whitespace">   </span><span class="mi">1313</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int32</span><span class="p">(</span><span class="n">mat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
<span class="g g-Whitespace">   </span><span class="mi">1314</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">layout</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1315</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">predict_type</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1316</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">start_iteration</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1317</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">num_iteration</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1318</span>         <span class="n">_c_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pred_parameter</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1319</span>         <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">out_num_preds</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1320</span>         <span class="n">preds</span><span class="o">.</span><span class="n">ctypes</span><span class="o">.</span><span class="n">data_as</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">)),</span>
<span class="g g-Whitespace">   </span><span class="mi">1321</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1322</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1323</span> <span class="k">if</span> <span class="n">n_preds</span> <span class="o">!=</span> <span class="n">out_num_preds</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1324</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wrong length for predict results&quot;</span><span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-the-changes-in-air-pollution-across-a-typical-friday-due-to-the-placement-of-the-new-motorway-segment">
<h1>Visualise the changes in air pollution across a typical friday due to the placement of the new motorway segment<a class="headerlink" href="#visualise-the-changes-in-air-pollution-across-a-typical-friday-due-to-the-placement-of-the-new-motorway-segment" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chage_concentration_lines_figs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">air_pollutant</span> <span class="ow">in</span> <span class="n">air_pollutants</span><span class="p">:</span>
    <span class="n">chage_concentration_lines_figs</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ei_air_pollution_functions</span><span class="o">.</span><span class="n">change_in_concentration_line</span><span class="p">(</span>
            <span class="n">air_pollutant</span><span class="p">,</span>
            <span class="n">baseline_DFs_air_pollutant</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">],</span>
            <span class="n">change_DFs_air_pollutant</span><span class="p">[</span><span class="n">air_pollutant</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;Friday&quot;</span><span class="p">],</span>
            <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">)),</span>
            <span class="s2">&quot;motorway_addition_&quot;</span> <span class="o">+</span> <span class="n">air_pollutant</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Path to your large NetCDF file</span>
<span class="n">large_nc_path</span> <span class="o">=</span> <span class="s2">&quot;environmental_insights/environmental_insights_data/ML-HAPPE/Output/2018-01-01_080000.nc&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># === Find NO2 variable ===</span>
<span class="n">no2_var_candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">data_vars</span> <span class="k">if</span> <span class="s1">&#39;no2&#39;</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">no2_var_candidates</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No variable with &#39;no2&#39; in name found!&quot;</span><span class="p">)</span>

<span class="n">no2_var</span> <span class="o">=</span> <span class="n">no2_var_candidates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using variable: </span><span class="si">{</span><span class="n">no2_var</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># === Find first non-NaN grid cell ===</span>
<span class="n">no2_data</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="n">no2_var</span><span class="p">]</span>

<span class="c1"># Assume dims like (Timestamp, Northing, Easting)</span>
<span class="k">if</span> <span class="s2">&quot;Timestamp&quot;</span> <span class="ow">in</span> <span class="n">no2_data</span><span class="o">.</span><span class="n">dims</span><span class="p">:</span>
    <span class="n">no2_data_2d</span> <span class="o">=</span> <span class="n">no2_data</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">Timestamp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">no2_data_2d</span> <span class="o">=</span> <span class="n">no2_data</span>

<span class="n">valid_mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">no2_data_2d</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">valid_mask</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dataset has no valid NO2 data!&quot;</span><span class="p">)</span>

<span class="c1"># Get first valid cell indices</span>
<span class="n">first_valid_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">valid_mask</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;First valid NO2 grid cell at index: </span><span class="si">{</span><span class="n">first_valid_idx</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">northing_idx</span><span class="p">,</span> <span class="n">easting_idx</span> <span class="o">=</span> <span class="n">first_valid_idx</span>

<span class="c1"># === Define 10x10 window around valid cell ===</span>
<span class="n">northing_start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">northing_idx</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">easting_start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">easting_idx</span> <span class="o">-</span> <span class="mi">5</span><span class="p">)</span>

<span class="c1"># Subset the data</span>
<span class="n">ds_subset</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">Northing</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="n">northing_start</span><span class="p">,</span> <span class="n">northing_start</span> <span class="o">+</span> <span class="mi">10</span><span class="p">),</span>
                    <span class="n">Easting</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="n">easting_start</span><span class="p">,</span> <span class="n">easting_start</span> <span class="o">+</span> <span class="mi">10</span><span class="p">))</span>

<span class="c1"># === Plot the NO2 concentration for the subset ===</span>
<span class="n">no2_subset</span> <span class="o">=</span> <span class="n">ds_subset</span><span class="p">[</span><span class="n">no2_var</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">Timestamp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Timestamp&quot;</span> <span class="ow">in</span> <span class="n">ds_subset</span><span class="o">.</span><span class="n">dims</span> <span class="k">else</span> <span class="n">ds_subset</span><span class="p">[</span><span class="n">no2_var</span><span class="p">]</span>

<span class="n">no2_subset</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Easting&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Northing&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">no2_var</span><span class="si">}</span><span class="s2"> Concentration (Subset Example)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># === (Optional) Save tiny test NetCDF ===</span>
<span class="n">small_nc_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;tests&quot;</span><span class="p">,</span> <span class="s2">&quot;test_data&quot;</span><span class="p">,</span> <span class="s2">&quot;tiny_test_valid_subset.nc&quot;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">small_nc_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds_subset</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="n">small_nc_path</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subset NetCDF saved to: </span><span class="si">{</span><span class="n">small_nc_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ds_subset</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Using variable: no2_Prediction_Mean
First valid NO2 grid cell at index: [ 0 56]
</pre></div>
</div>
<img alt="_images/680ac1654d133fe9a64cef926208e153eb4eac635601e5f0386d779a3f8b7484.png" src="_images/680ac1654d133fe9a64cef926208e153eb4eac635601e5f0386d779a3f8b7484.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subset NetCDF saved to: tests/test_data/tiny_test_valid_subset.nc
</pre></div>
</div>
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 12kB
Dimensions:                         (Northing: 10, Easting: 10)
Coordinates:
    Timestamp                       datetime64[ns] 8B 2018-01-01T08:00:00
  * Northing                        (Northing) float64 80B 6.407e+06 ... 6.41...
  * Easting                         (Easting) float64 80B -5.858e+05 ... -5.7...
Data variables: (12/29)
    UK_Model_Grid_ID                (Northing, Easting) float64 800B nan ... ...
    nox_Prediction_Mean             (Northing, Easting) float32 400B nan ... ...
    no2_Prediction_Mean             (Northing, Easting) float32 400B nan ... ...
    no_Prediction_Mean              (Northing, Easting) float32 400B nan ... ...
    o3_Prediction_Mean              (Northing, Easting) float32 400B nan ... ...
    pm10_Prediction_Mean            (Northing, Easting) float32 400B nan ... ...
    ...                              ...
    no2_Prediction_0p95_Quantile    (Northing, Easting) float32 400B nan ... ...
    no_Prediction_0p95_Quantile     (Northing, Easting) float32 400B nan ... ...
    o3_Prediction_0p95_Quantile     (Northing, Easting) float32 400B nan ... ...
    pm10_Prediction_0p95_Quantile   (Northing, Easting) float32 400B nan ... ...
    pm2p5_Prediction_0p95_Quantile  (Northing, Easting) float32 400B nan ... ...
    so2_Prediction_0p95_Quantile    (Northing, Easting) float32 400B nan ... ...
Attributes:
    Title:        ML-HAPPE (Machine Learning for Hourly Air Pollution Predict...
    References:   https://doi.org/10.1017/eds.2025.9
    Conventions:  CF-1.8
    Author:       Liam J Berrisford
    History:      Created on 2025-03-13T18:48:45.206727</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-ec0d114b-f4ae-4a2c-b922-5991cfcab729' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-ec0d114b-f4ae-4a2c-b922-5991cfcab729' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>Northing</span>: 10</li><li><span class='xr-has-index'>Easting</span>: 10</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-8fa3cc5c-9bc4-4774-8483-80b69d1b6b4a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8fa3cc5c-9bc4-4774-8483-80b69d1b6b4a' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>Timestamp</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-01-01T08:00:00</div><input id='attrs-b11ac190-2152-45b7-8b22-383307ffc48f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b11ac190-2152-45b7-8b22-383307ffc48f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-42435c87-ac31-4b57-8806-850db499b755' class='xr-var-data-in' type='checkbox'><label for='data-42435c87-ac31-4b57-8806-850db499b755' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>Time (hourly)</dd></dl></div><div class='xr-var-data'><pre>array(&#x27;2018-01-01T08:00:00.000000000&#x27;, dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Northing</span></div><div class='xr-var-dims'>(Northing)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.407e+06 6.408e+06 ... 6.416e+06</div><input id='attrs-69f823c3-3d79-49b8-9d52-6c2240f97485' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-69f823c3-3d79-49b8-9d52-6c2240f97485' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c0faf7b-247e-4271-a099-09f81066e5f0' class='xr-var-data-in' type='checkbox'><label for='data-1c0faf7b-247e-4271-a099-09f81066e5f0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Northing (EPSG:3395)</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([6406831.988, 6407831.988, 6408831.988, 6409831.988, 6410831.988,
       6411831.988, 6412831.988, 6413831.988, 6414831.988, 6415831.988])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Easting</span></div><div class='xr-var-dims'>(Easting)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-5.858e+05 ... -5.768e+05</div><input id='attrs-ac90e086-cb19-4c07-8eee-62b2ea0e284d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ac90e086-cb19-4c07-8eee-62b2ea0e284d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e535cf27-db1e-4746-aacc-829574188e86' class='xr-var-data-in' type='checkbox'><label for='data-e535cf27-db1e-4746-aacc-829574188e86' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Easting (EPSG:3395)</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([-585791.4429, -584791.4429, -583791.4429, -582791.4429, -581791.4429,
       -580791.4429, -579791.4429, -578791.4429, -577791.4429, -576791.4429])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7bcd8c45-3452-4533-b0fa-c065b5664a20' class='xr-section-summary-in' type='checkbox'  ><label for='section-7bcd8c45-3452-4533-b0fa-c065b5664a20' class='xr-section-summary' >Data variables: <span>(29)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>UK_Model_Grid_ID</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan ... 2.191e+04 4.332e+04</div><input id='attrs-52808577-b7c6-4df8-b1f6-cf8602c2b978' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-52808577-b7c6-4df8-b1f6-cf8602c2b978' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5a23871f-e299-46b2-bff2-3c1ac0b22942' class='xr-var-data-in' type='checkbox'><label for='data-5a23871f-e299-46b2-bff2-3c1ac0b22942' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Unique identifier for each 1 km² grid cell</dd></dl></div><div class='xr-var-data'><pre>array([[   nan,    nan,    nan,    nan,    nan, 69788., 20003., 41708.,
        21919., 43330.],
       [   nan,    nan,    nan,    nan,    nan, 69787., 20002., 41707.,
        21918., 43329.],
       [   nan,    nan, 68474., 68909., 69349., 69786., 20001., 41706.,
        21917.,    nan],
       [   nan, 67990., 68473., 68908., 69348., 69785., 20000., 41705.,
        21916., 43328.],
       [   nan, 67989., 68472., 68907., 69347., 69784., 19999., 41704.,
        21915., 43327.],
       [   nan, 67988., 68471., 68906., 69346., 69783., 19998., 41703.,
        21914., 43326.],
       [66723., 67987., 68470., 68905., 69345., 69782., 19997., 41702.,
        21913., 43325.],
       [66722., 67986., 68469., 68904., 69344., 69781., 19996., 41701.,
        21912., 43324.],
       [66721., 67985., 68468., 68903., 69343., 69780., 19995., 41700.,
        21911., 43323.],
       [66720., 67984., 68467., 68902., 69342., 69779., 19994., 41699.,
        21910., 43322.]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>nox_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 2.028 2.311 3.029</div><input id='attrs-18ddbe56-a639-4133-9075-1e9c35373786' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-18ddbe56-a639-4133-9075-1e9c35373786' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3149ef47-89ac-4129-abcb-1027f52f0340' class='xr-var-data-in' type='checkbox'><label for='data-3149ef47-89ac-4129-abcb-1027f52f0340' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled NOₓ</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 2.052312, 3.126467,
        2.231008, 2.581902, 2.346753],
       [     nan,      nan,      nan,      nan,      nan, 2.698831, 2.841627,
        1.979498, 2.240014, 2.37777 ],
       [     nan,      nan, 2.255277, 2.609102, 2.504503, 2.300855, 2.431198,
        2.411726, 2.640274,      nan],
       [     nan, 2.971345, 2.249324, 2.65224 , 2.520278, 2.105707, 3.51407 ,
        2.828586, 3.078251, 2.086276],
       [     nan, 1.982799, 1.692111, 2.309937, 2.008598, 2.161506, 3.822587,
        3.504935, 3.167175, 1.939916],
       [     nan, 1.740594, 2.435946, 1.863641, 2.082733, 2.130779, 3.107258,
        3.084648, 2.018711, 2.240113],
       [1.599368, 2.398688, 1.679125, 1.850659, 3.086884, 2.3175  , 2.104518,
        2.145783, 2.259217, 2.371938],
       [1.606612, 2.253752, 2.332362, 1.883328, 2.604841, 2.728035, 2.391192,
        2.360743, 2.295193, 2.257737],
       [2.094749, 2.463949, 2.572581, 2.571975, 2.47176 , 2.867581, 1.526427,
        2.382098, 2.194423, 2.424716],
       [2.51126 , 3.274481, 3.075135, 1.857264, 2.007671, 2.929517, 2.044612,
        2.027665, 2.311193, 3.02903 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no2_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.66 1.579 1.846</div><input id='attrs-075a324a-f697-4fb7-ae38-acf12fbed02b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-075a324a-f697-4fb7-ae38-acf12fbed02b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-753cbfec-d394-44b7-8ea2-8f921edc639f' class='xr-var-data-in' type='checkbox'><label for='data-753cbfec-d394-44b7-8ea2-8f921edc639f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled NO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.471366, 3.738136,
        1.311934, 1.247098, 1.064598],
       [     nan,      nan,      nan,      nan,      nan, 1.797558, 1.799959,
        1.200464, 1.612789, 1.177808],
       [     nan,      nan, 1.246272, 1.48628 , 1.536902, 1.765551, 1.933532,
        2.558217, 1.920754,      nan],
       [     nan, 1.550262, 1.515061, 1.94646 , 1.651212, 1.415155, 2.482584,
        2.126527, 1.65413 , 1.193437],
       [     nan, 1.467674, 1.33883 , 1.597596, 1.287296, 1.237751, 3.036446,
        3.623588, 2.340143, 1.770885],
       [     nan, 0.982426, 1.347385, 1.088999, 1.202046, 1.20111 , 1.866746,
        2.938161, 2.084791, 1.90301 ],
       [1.159816, 1.366883, 0.894376, 0.89135 , 1.829429, 1.547997, 1.247259,
        2.065332, 1.694786, 1.891034],
       [1.220245, 1.694448, 1.223508, 1.198609, 1.627376, 1.558679, 1.608231,
        1.933139, 1.73391 , 1.674181],
       [1.252226, 1.923878, 1.640528, 1.595416, 1.608048, 1.584563, 0.851204,
        1.722298, 1.523702, 1.38389 ],
       [1.297192, 2.535345, 2.065021, 1.270358, 1.24067 , 1.725475, 1.972291,
        1.659538, 1.579399, 1.845658]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.2929 0.2549</div><input id='attrs-ad527d70-c545-440a-a2f2-6c9fc4a6842d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ad527d70-c545-440a-a2f2-6c9fc4a6842d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-23d9f1b7-9448-40bc-be28-a59bf6c4893c' class='xr-var-data-in' type='checkbox'><label for='data-23d9f1b7-9448-40bc-be28-a59bf6c4893c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled NO</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.428234, 0.180632,
        0.189175, 0.457612, 0.117741],
       [     nan,      nan,      nan,      nan,      nan, 0.415415, 0.215416,
        0.139466, 0.224245, 0.121829],
       [     nan,      nan, 0.217729, 0.263926, 0.155206, 0.144624, 0.188942,
        0.217052, 0.206411,      nan],
       [     nan, 0.26953 , 0.228409, 0.166612, 0.142443, 0.191732, 0.319698,
        0.282495, 0.177612, 0.368355],
       [     nan, 0.209718, 0.175015, 0.225301, 0.103952, 0.094684, 0.259715,
        0.21527 , 0.273745, 0.216115],
       [     nan, 0.16636 , 0.223585, 0.199836, 0.180163, 0.116118, 0.146327,
        0.212608, 0.205736, 0.25584 ],
       [0.205529, 0.25375 , 0.198198, 0.135502, 0.194311, 0.170888, 0.194261,
        0.152943, 0.188618, 0.265873],
       [0.219978, 0.202543, 0.154627, 0.065951, 0.103001, 0.247565, 0.211344,
        0.147498, 0.210443, 0.224826],
       [0.313709, 0.281017, 0.204923, 0.135929, 0.161476, 0.191976, 0.194367,
        0.155311, 0.205635, 0.181715],
       [0.228475, 0.255198, 0.273059, 0.199147, 0.136708, 0.333878, 0.186951,
        0.160916, 0.292858, 0.254891]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>o3_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 78.55 72.25 76.84</div><input id='attrs-0b710577-b37e-4cc3-81bd-a4883837ccb6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0b710577-b37e-4cc3-81bd-a4883837ccb6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-62f402a2-4618-4c38-9762-dc5e9559a67d' class='xr-var-data-in' type='checkbox'><label for='data-62f402a2-4618-4c38-9762-dc5e9559a67d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled O₃</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 81.364494,
        81.08899 , 84.90929 , 81.2134  , 76.440506],
       [      nan,       nan,       nan,       nan,       nan, 79.47115 ,
        76.62358 , 81.20795 , 81.795235, 79.342575],
       [      nan,       nan, 76.93194 , 76.13575 , 81.05693 , 76.941444,
        80.39571 , 79.35661 , 82.16278 ,       nan],
       [      nan, 77.733055, 75.82077 , 73.60181 , 77.84441 , 82.10857 ,
        78.0262  , 79.43725 , 79.254616, 80.53766 ],
       [      nan, 77.51137 , 74.74582 , 72.40399 , 81.251114, 80.21548 ,
        78.3482  , 81.50575 , 81.97274 , 75.38037 ],
       [      nan, 77.63499 , 74.6477  , 77.542145, 81.94076 , 79.26292 ,
        74.73138 , 83.99622 , 83.40623 , 74.09998 ],
       [79.49469 , 76.05632 , 74.24518 , 79.693344, 79.37868 , 79.14563 ,
        75.408516, 85.122765, 72.78498 , 77.60434 ],
       [82.63594 , 78.65125 , 81.34666 , 77.66366 , 81.82645 , 73.81898 ,
        74.514366, 79.649574, 82.45871 , 80.465675],
       [87.23165 , 90.8439  , 87.40589 , 85.58134 , 79.69658 , 73.51376 ,
        74.65454 , 71.43195 , 74.10082 , 80.36888 ],
       [90.997505, 85.885544, 90.24803 , 87.735855, 83.4512  , 79.80981 ,
        79.16345 , 78.55241 , 72.24552 , 76.8448  ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm10_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 5.553 5.716 5.327</div><input id='attrs-f5702d9a-9fc0-4feb-9123-e77c30c3122d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f5702d9a-9fc0-4feb-9123-e77c30c3122d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-30468591-b713-458f-be71-32095f4aa666' class='xr-var-data-in' type='checkbox'><label for='data-30468591-b713-458f-be71-32095f4aa666' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled PM₁₀</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 5.724974, 5.516214,
        5.046527, 5.60182 , 6.063162],
       [     nan,      nan,      nan,      nan,      nan, 5.788373, 5.694361,
        5.660656, 5.861866, 6.145104],
       [     nan,      nan, 6.343737, 5.967301, 6.105284, 6.04331 , 5.82563 ,
        5.856061, 4.886822,      nan],
       [     nan, 6.191792, 5.998589, 5.836275, 5.815014, 5.440098, 5.361435,
        5.241954, 4.868447, 4.881045],
       [     nan, 6.143929, 5.502891, 5.002487, 5.461961, 5.355139, 5.136709,
        5.295693, 5.257269, 5.323431],
       [     nan, 5.682912, 5.244858, 5.073793, 5.132463, 5.034484, 4.814545,
        5.054921, 5.261936, 5.658415],
       [5.722652, 5.622783, 5.483061, 4.992676, 5.314129, 5.099529, 5.08313 ,
        5.204981, 5.307035, 5.597574],
       [5.71193 , 5.853595, 5.504925, 5.362142, 5.33499 , 5.228885, 5.265619,
        5.072793, 5.547894, 5.341813],
       [5.530164, 5.701076, 5.318208, 5.786853, 5.755767, 5.743093, 5.835598,
        5.596561, 5.613329, 5.634487],
       [5.7999  , 6.179083, 5.757657, 5.008357, 5.647355, 5.723968, 5.91986 ,
        5.552731, 5.715655, 5.326862]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm2p5_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.913 1.822 1.638</div><input id='attrs-1edbfa52-4a91-4a9d-b970-44a7649ff4b2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1edbfa52-4a91-4a9d-b970-44a7649ff4b2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3ac39d71-c679-4900-957b-ef99b0c383ba' class='xr-var-data-in' type='checkbox'><label for='data-3ac39d71-c679-4900-957b-ef99b0c383ba' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled PM₂.₅</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.926741, 1.797151,
        1.708708, 2.306352, 1.991468],
       [     nan,      nan,      nan,      nan,      nan, 1.682367, 1.551092,
        1.789359, 1.806247, 2.017411],
       [     nan,      nan, 1.773232, 1.741901, 1.650744, 1.719974, 1.875132,
        1.773218, 1.741896,      nan],
       [     nan, 2.115463, 1.732652, 1.542365, 1.938468, 1.839766, 1.508859,
        1.5286  , 1.602308, 1.859778],
       [     nan, 1.836322, 1.76936 , 1.64995 , 1.991923, 1.785724, 1.631031,
        1.685733, 1.755753, 1.687523],
       [     nan, 1.723212, 1.526182, 1.639006, 1.982271, 1.771235, 1.475698,
        1.685794, 1.787104, 1.601543],
       [1.739592, 1.630777, 1.558064, 1.621269, 1.729556, 1.566827, 1.610004,
        1.571878, 1.734155, 1.458229],
       [1.609093, 1.657055, 1.397431, 1.640835, 1.901858, 1.602713, 1.754696,
        1.886858, 1.975191, 1.6966  ],
       [1.787647, 1.488445, 1.630398, 1.573918, 1.700674, 1.755199, 1.932051,
        1.833073, 1.788921, 1.748133],
       [2.104551, 1.898774, 1.442436, 1.761616, 1.785563, 1.683216, 1.842462,
        1.913153, 1.821761, 1.638103]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>so2_Prediction_Mean</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.138 1.157 0.9027</div><input id='attrs-e7df959a-af9d-48b6-a048-0cb334b9df8c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e7df959a-af9d-48b6-a048-0cb334b9df8c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e2cd50e8-bfc1-4b28-b44a-ea54d00a2f15' class='xr-var-data-in' type='checkbox'><label for='data-e2cd50e8-bfc1-4b28-b44a-ea54d00a2f15' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Mean of modeled SO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.662483, 1.699429,
        1.265067, 1.015431, 0.969612],
       [     nan,      nan,      nan,      nan,      nan, 1.592035, 1.529317,
        1.32728 , 0.985841, 0.747902],
       [     nan,      nan, 0.935235, 1.039749, 1.076371, 1.518917, 1.073436,
        1.596647, 0.980176,      nan],
       [     nan, 0.915979, 1.087058, 1.061995, 1.081984, 0.953328, 0.738923,
        1.194626, 0.928268, 0.764342],
       [     nan, 0.926039, 1.540633, 1.094505, 0.82667 , 0.768123, 0.725628,
        0.836475, 1.026403, 1.062411],
       [     nan, 1.008918, 1.056413, 0.96709 , 0.812471, 0.803174, 0.724   ,
        0.771121, 1.356936, 1.713895],
       [0.976267, 1.604669, 1.073772, 0.879808, 0.877229, 0.914139, 0.904533,
        0.956263, 0.912115, 1.597614],
       [1.057503, 1.683077, 0.80294 , 0.954626, 0.762402, 0.755311, 0.838724,
        0.870215, 1.10585 , 1.026337],
       [1.096633, 1.765818, 1.517305, 0.787796, 0.847888, 0.766528, 1.670999,
        0.989507, 1.090836, 1.208179],
       [1.068992, 1.637667, 1.372657, 0.849291, 0.824575, 0.997616, 1.613333,
        1.13781 , 1.157328, 0.902698]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>nox_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.6754 0.939 1.0</div><input id='attrs-1e1650a3-e490-4458-97eb-b1ec2c5a4230' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1e1650a3-e490-4458-97eb-b1ec2c5a4230' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3bd0388b-30e0-47ad-ae85-53d14d31d6c6' class='xr-var-data-in' type='checkbox'><label for='data-3bd0388b-30e0-47ad-ae85-53d14d31d6c6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled NOₓ</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.40998 , 1.930779,
        1.29864 , 0.940912, 1.153022],
       [     nan,      nan,      nan,      nan,      nan, 1.112315, 1.548089,
        1.139978, 1.150461, 1.014946],
       [     nan,      nan, 1.164475, 1.015716, 1.004951, 0.911007, 0.926039,
        1.197651, 0.997374,      nan],
       [     nan, 1.218885, 1.089636, 1.050378, 1.081486, 0.848139, 1.380764,
        1.212516, 0.874294, 0.9817  ],
       [     nan, 1.046106, 0.690206, 0.994258, 0.757249, 0.806191, 1.41433 ,
        1.131594, 1.351977, 1.008302],
       [     nan, 0.726348, 0.93638 , 1.008275, 0.743984, 0.704687, 1.188521,
        1.342019, 1.097834, 1.336813],
       [0.708125, 0.662102, 0.585835, 0.785831, 1.116907, 0.948685, 1.220788,
        1.038537, 0.979786, 1.4037  ],
       [0.741866, 0.831184, 0.851386, 0.821182, 0.825758, 0.904698, 0.747759,
        0.982556, 0.878485, 0.873177],
       [0.860234, 1.345556, 1.296016, 0.888104, 0.655646, 1.018934, 0.487651,
        0.816139, 0.763114, 1.040074],
       [1.007773, 1.656802, 1.514282, 0.753906, 0.79045 , 0.994713, 0.732062,
        0.675421, 0.939034, 1.000238]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no2_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.5409 0.6772</div><input id='attrs-2f7b6098-a739-4d37-b29a-9b141124fa5a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2f7b6098-a739-4d37-b29a-9b141124fa5a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-57ec6301-e658-4be3-a029-08b1010c0b98' class='xr-var-data-in' type='checkbox'><label for='data-57ec6301-e658-4be3-a029-08b1010c0b98' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled NO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.602355, 1.230174,
        0.627295, 0.261615, 0.226153],
       [     nan,      nan,      nan,      nan,      nan, 0.564696, 0.742617,
        0.371713, 0.33979 , 0.2798  ],
       [     nan,      nan, 0.284013, 0.440877, 0.360206, 0.364262, 0.586184,
        0.711491, 0.34729 ,      nan],
       [     nan, 0.376083, 0.404645, 0.502963, 0.393427, 0.449953, 0.720327,
        0.647601, 0.607005, 0.371991],
       [     nan, 0.340949, 0.319894, 0.471404, 0.547098, 0.544216, 0.726819,
        0.844102, 0.952142, 0.404792],
       [     nan, 0.332369, 0.421749, 0.461647, 0.550829, 0.360552, 0.812501,
        0.922068, 0.741713, 0.733479],
       [0.484897, 0.508025, 0.238651, 0.290098, 0.43583 , 0.350994, 0.332199,
        0.447683, 0.645955, 0.70719 ],
       [0.474387, 0.782919, 0.423736, 0.320662, 0.396369, 0.407088, 0.652621,
        0.629475, 0.711955, 0.377504],
       [0.393443, 0.842126, 0.44253 , 0.39779 , 0.356122, 0.382012, 0.571284,
        0.654962, 0.698021, 0.41063 ],
       [0.485456, 1.111482, 0.749675, 0.495384, 0.497125, 0.853882, 0.971944,
        0.688334, 0.540859, 0.677229]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.1453 0.09123</div><input id='attrs-32ed6030-e522-4d0b-a262-6f0734270d40' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-32ed6030-e522-4d0b-a262-6f0734270d40' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b616f6eb-6989-40a8-b053-4b5b42961929' class='xr-var-data-in' type='checkbox'><label for='data-b616f6eb-6989-40a8-b053-4b5b42961929' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled NO</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.147194, 0.128855,
        0.102386, 0.15322 , 0.107568],
       [     nan,      nan,      nan,      nan,      nan, 0.139369, 0.175435,
        0.144589, 0.142033, 0.124961],
       [     nan,      nan, 0.161305, 0.188502, 0.145028, 0.102942, 0.089038,
        0.17501 , 0.145908,      nan],
       [     nan, 0.206903, 0.183872, 0.079879, 0.108618, 0.119193, 0.174531,
        0.08631 , 0.094416, 0.120998],
       [     nan, 0.157909, 0.068928, 0.080931, 0.079777, 0.083037, 0.182378,
        0.127455, 0.150129, 0.088264],
       [     nan, 0.100172, 0.090729, 0.097895, 0.178557, 0.094108, 0.106258,
        0.130974, 0.124026, 0.088544],
       [0.105742, 0.084222, 0.077232, 0.071371, 0.162971, 0.070788, 0.130835,
        0.133288, 0.122264, 0.11568 ],
       [0.132218, 0.076001, 0.081399, 0.028365, 0.041557, 0.131206, 0.112523,
        0.103774, 0.098008, 0.093296],
       [0.116308, 0.109424, 0.117384, 0.159046, 0.071711, 0.095998, 0.07717 ,
        0.103295, 0.097798, 0.10476 ],
       [0.109364, 0.175092, 0.121577, 0.134076, 0.064738, 0.166936, 0.118467,
        0.100851, 0.145278, 0.091226]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>o3_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 63.7 65.08 65.97</div><input id='attrs-eec8c670-cfbb-4e4f-bfb7-1fd77a16e6a8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-eec8c670-cfbb-4e4f-bfb7-1fd77a16e6a8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d81c8fd2-21c3-4398-99ec-588b679abca7' class='xr-var-data-in' type='checkbox'><label for='data-d81c8fd2-21c3-4398-99ec-588b679abca7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled O₃</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 65.768364,
        65.26114 , 70.08308 , 68.72893 , 64.92781 ],
       [      nan,       nan,       nan,       nan,       nan, 65.04133 ,
        61.183662, 62.987957, 64.74663 , 66.04102 ],
       [      nan,       nan, 67.699104, 66.44015 , 66.64736 , 64.941185,
        69.12222 , 60.635876, 66.16144 ,       nan],
       [      nan, 67.51272 , 69.21331 , 65.6482  , 60.98574 , 64.835754,
        54.822   , 57.98185 , 62.947876, 64.27544 ],
       [      nan, 67.43413 , 63.74883 , 67.15757 , 68.21488 , 66.58215 ,
        58.85052 , 62.030655, 63.875114, 59.85376 ],
       [      nan, 67.23223 , 65.05867 , 62.00057 , 64.7486  , 70.00067 ,
        55.182125, 59.524517, 64.768166, 60.77708 ],
       [68.67614 , 68.129326, 63.976963, 64.37312 , 64.81817 , 57.00865 ,
        58.45803 , 59.649315, 55.374138, 59.00408 ],
       [66.60606 , 59.13689 , 65.87399 , 67.54399 , 65.4221  , 55.59327 ,
        65.22615 , 64.8719  , 59.780773, 62.732773],
       [71.46166 , 66.88594 , 72.354034, 59.413136, 68.51593 , 60.121758,
        67.50351 , 60.603474, 61.63012 , 63.661335],
       [74.33176 , 67.67082 , 65.64832 , 73.00709 , 75.2544  , 62.07973 ,
        74.06641 , 63.697002, 65.07603 , 65.97349 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm10_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.654 1.444 1.713</div><input id='attrs-872b5e4a-c2ea-46e8-87c3-c2c98d71fa0c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-872b5e4a-c2ea-46e8-87c3-c2c98d71fa0c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c8f06ae2-2dfb-4304-ba5e-83a1201a832c' class='xr-var-data-in' type='checkbox'><label for='data-c8f06ae2-2dfb-4304-ba5e-83a1201a832c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled PM₁₀</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.736397, 1.721156,
        1.587322, 1.35154 , 1.336829],
       [     nan,      nan,      nan,      nan,      nan, 1.755216, 1.716022,
        1.645027, 1.430087, 1.412791],
       [     nan,      nan, 1.407146, 1.445641, 1.716597, 1.850142, 1.693358,
        1.675764, 1.37102 ,      nan],
       [     nan, 1.407284, 1.42942 , 1.423947, 1.433774, 1.413152, 1.462405,
        1.700591, 1.477312, 1.409705],
       [     nan, 1.455611, 1.807839, 1.42712 , 1.390184, 1.424686, 1.381142,
        1.450171, 1.33483 , 1.705914],
       [     nan, 1.437924, 1.444583, 1.437924, 1.472603, 1.357111, 1.448391,
        1.393669, 1.572705, 1.677771],
       [1.437924, 1.672832, 1.782164, 1.380877, 1.40925 , 1.312265, 1.455145,
        1.455642, 1.390865, 1.689083],
       [1.391652, 1.792202, 1.357472, 1.378008, 1.457213, 1.421578, 1.595727,
        1.441466, 1.441466, 1.436294],
       [1.553916, 1.556035, 1.747354, 1.375422, 1.4518  , 1.501135, 1.720912,
        1.506671, 1.455957, 1.755824],
       [1.401243, 1.73763 , 1.98374 , 1.397834, 1.422062, 1.442066, 1.729866,
        1.653864, 1.444398, 1.713464]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm2p5_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.3609 0.3432</div><input id='attrs-50f8c478-dd5b-4a06-88fb-6e018028e1dd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-50f8c478-dd5b-4a06-88fb-6e018028e1dd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7d7990f4-043d-4e39-a142-c59e91ff4e2b' class='xr-var-data-in' type='checkbox'><label for='data-7d7990f4-043d-4e39-a142-c59e91ff4e2b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled PM₂.₅</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.42235 , 0.375611,
        0.369581, 0.380883, 0.403113],
       [     nan,      nan,      nan,      nan,      nan, 0.353389, 0.359698,
        0.344863, 0.348385, 0.414136],
       [     nan,      nan, 0.404212, 0.363441, 0.373784, 0.43396 , 0.357779,
        0.361704, 0.338882,      nan],
       [     nan, 0.477633, 0.375018, 0.343312, 0.381251, 0.376703, 0.354612,
        0.34587 , 0.358388, 0.385961],
       [     nan, 0.412651, 0.39352 , 0.356406, 0.375906, 0.366569, 0.352463,
        0.344942, 0.371213, 0.346377],
       [     nan, 0.391758, 0.338523, 0.349432, 0.379552, 0.370049, 0.357656,
        0.362588, 0.361138, 0.408223],
       [0.385692, 0.370099, 0.347704, 0.360422, 0.397845, 0.376675, 0.351281,
        0.349239, 0.390173, 0.386052],
       [0.364691, 0.412948, 0.342625, 0.378098, 0.432769, 0.345825, 0.348003,
        0.363065, 0.356498, 0.366089],
       [0.368486, 0.384502, 0.350336, 0.385077, 0.393418, 0.388814, 0.415427,
        0.384502, 0.391163, 0.345179],
       [0.394185, 0.376817, 0.376985, 0.351283, 0.35664 , 0.353927, 0.370561,
        0.368587, 0.360913, 0.34325 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>so2_Prediction_0p05_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.2553 0.2626</div><input id='attrs-0fa4e424-1b2c-4ff5-a514-7e5886868695' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0fa4e424-1b2c-4ff5-a514-7e5886868695' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0d279983-f39c-4be2-ae84-ba037c852d90' class='xr-var-data-in' type='checkbox'><label for='data-0d279983-f39c-4be2-ae84-ba037c852d90' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>5th percentile of modeled SO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.508856, 0.576537,
        0.267751, 0.262956, 0.282304],
       [     nan,      nan,      nan,      nan,      nan, 0.536547, 0.602243,
        0.250337, 0.262184, 0.258011],
       [     nan,      nan, 0.274721, 0.267923, 0.25486 , 0.534166, 0.248279,
        0.605181, 0.262184,      nan],
       [     nan, 0.285147, 0.274721, 0.270411, 0.253829, 0.235749, 0.283121,
        0.241912, 0.257509, 0.310124],
       [     nan, 0.285944, 0.486986, 0.269212, 0.262214, 0.259537, 0.297319,
        0.303195, 0.286508, 0.286495],
       [     nan, 0.276478, 0.269225, 0.256707, 0.278979, 0.278448, 0.237503,
        0.265273, 0.255305, 0.530055],
       [0.248492, 0.499457, 0.251224, 0.318764, 0.34972 , 0.266879, 0.263627,
        0.26735 , 0.261219, 0.471862],
       [0.218421, 0.49423 , 0.210056, 0.262586, 0.335088, 0.279822, 0.237409,
        0.236809, 0.26168 , 0.264894],
       [0.236161, 0.49423 , 0.502673, 0.262903, 0.298857, 0.258311, 0.518629,
        0.246969, 0.26949 , 0.255674],
       [0.22243 , 0.513136, 0.278696, 0.277761, 0.237612, 0.300834, 0.544786,
        0.255074, 0.255337, 0.26261 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>nox_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.764 1.785 1.863</div><input id='attrs-462268c3-c976-4916-b5f6-1414e7c68d0e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-462268c3-c976-4916-b5f6-1414e7c68d0e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-873c222f-a4c8-48d1-a3a1-aea7782dc6c5' class='xr-var-data-in' type='checkbox'><label for='data-873c222f-a4c8-48d1-a3a1-aea7782dc6c5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled NOₓ</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 2.176898, 2.901541,
        1.803981, 1.569554, 3.884872],
       [     nan,      nan,      nan,      nan,      nan, 1.69901 , 2.614239,
        1.909228, 2.012678, 3.651111],
       [     nan,      nan, 4.727236, 1.861913, 1.721863, 1.446726, 1.911424,
        1.887008, 1.704711,      nan],
       [     nan, 5.332166, 3.09477 , 2.032811, 1.613362, 1.564365, 3.63874 ,
        2.058251, 1.750439, 3.001245],
       [     nan, 3.15172 , 1.544587, 1.73906 , 1.389185, 3.060705, 1.784895,
        2.996102, 2.382355, 1.588261],
       [     nan, 1.593786, 1.627484, 1.643603, 1.399548, 1.510564, 1.916712,
        3.158513, 2.374807, 1.914051],
       [1.601063, 1.636128, 1.513209, 1.593554, 3.414987, 1.776867, 1.636432,
        1.953208, 1.605642, 1.918215],
       [1.530635, 1.662062, 1.517603, 2.824206, 3.106101, 1.672849, 1.766816,
        1.614654, 1.948869, 1.714868],
       [1.796388, 2.474489, 1.675016, 2.98521 , 2.90642 , 3.08805 , 1.576115,
        1.759197, 1.490543, 1.842283],
       [1.977815, 2.141922, 2.292006, 1.578229, 1.564588, 2.00639 , 1.791985,
        1.763827, 1.785209, 1.863117]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no2_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 1.123 0.9199 1.135</div><input id='attrs-feb225df-e2e9-4db0-9bbb-c544231b431e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-feb225df-e2e9-4db0-9bbb-c544231b431e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4e2d7025-36ba-4ec1-bd3c-979c12d31ec8' class='xr-var-data-in' type='checkbox'><label for='data-4e2d7025-36ba-4ec1-bd3c-979c12d31ec8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled NO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.364625, 2.802564,
        1.405956, 1.35563 , 1.963952],
       [     nan,      nan,      nan,      nan,      nan, 1.380163, 1.794878,
        1.302944, 1.400999, 1.972891],
       [     nan,      nan, 1.306411, 1.193938, 1.235997, 1.109198, 1.267537,
        1.575191, 1.441945,      nan],
       [     nan, 1.558661, 1.442336, 1.480994, 1.175965, 1.281864, 2.195656,
        1.67969 , 1.632877, 1.590342],
       [     nan, 1.120506, 0.982707, 1.113081, 0.913998, 1.521025, 2.122171,
        2.921136, 1.954765, 1.206867],
       [     nan, 0.932791, 1.281727, 1.336009, 1.056844, 1.105387, 1.513335,
        2.389064, 1.415793, 1.414733],
       [1.132046, 0.959811, 0.871368, 1.341496, 2.072894, 1.396124, 1.179345,
        1.09614 , 1.635782, 1.507588],
       [1.210975, 0.988818, 1.007504, 1.336152, 1.80825 , 1.209215, 0.886781,
        1.07299 , 1.053653, 1.348137],
       [1.402465, 1.542099, 1.284456, 1.108165, 1.267058, 1.54088 , 0.660094,
        0.910594, 0.98559 , 1.154453],
       [1.535912, 2.552098, 1.81683 , 1.636309, 1.253368, 1.474428, 1.106289,
        1.122547, 0.919934, 1.13459 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.1972 0.3108 0.398</div><input id='attrs-82acbc68-4791-4504-aab2-67fd204c6b29' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-82acbc68-4791-4504-aab2-67fd204c6b29' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-263e0e07-7672-48cb-a97f-b2ffb793723d' class='xr-var-data-in' type='checkbox'><label for='data-263e0e07-7672-48cb-a97f-b2ffb793723d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled NO</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.272412, 0.248765,
        0.234309, 0.273532, 0.411294],
       [     nan,      nan,      nan,      nan,      nan, 0.267425, 0.291544,
        0.264812, 0.275697, 0.372066],
       [     nan,      nan, 0.370551, 0.328857, 0.267764, 0.262881, 0.226315,
        0.280783, 0.227559,      nan],
       [     nan, 0.411503, 0.27898 , 0.289374, 0.208049, 0.343128, 0.356315,
        0.311077, 0.238141, 0.327657],
       [     nan, 0.304231, 0.272718, 0.277341, 0.211829, 0.342925, 0.35724 ,
        0.383771, 0.26813 , 0.243282],
       [     nan, 0.307091, 0.319259, 0.250541, 0.234492, 0.186798, 0.209189,
        0.21886 , 0.262629, 0.239463],
       [0.230745, 0.314496, 0.219827, 0.232823, 0.226187, 0.188767, 0.173853,
        0.273373, 0.197106, 0.236443],
       [0.242245, 0.252044, 0.227191, 0.199903, 0.220721, 0.191763, 0.250233,
        0.19906 , 0.253869, 0.273351],
       [0.323418, 0.31045 , 0.259316, 0.219007, 0.190761, 0.203321, 0.189615,
        0.201066, 0.235553, 0.268636],
       [0.40072 , 0.400693, 0.243618, 0.246065, 0.245954, 0.226512, 0.190786,
        0.197205, 0.310758, 0.398048]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>o3_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 75.75 70.85 75.57</div><input id='attrs-25d34482-1562-484d-8e60-caa3c0d235c8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-25d34482-1562-484d-8e60-caa3c0d235c8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-40464413-1a9f-4b16-bdb8-6557cb1eda69' class='xr-var-data-in' type='checkbox'><label for='data-40464413-1a9f-4b16-bdb8-6557cb1eda69' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled O₃</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 70.90172 ,
        77.30372 , 76.61606 , 71.902985, 69.61678 ],
       [      nan,       nan,       nan,       nan,       nan, 71.045456,
        76.39669 , 77.662384, 73.7189  , 71.45439 ],
       [      nan,       nan, 72.07602 , 72.48971 , 74.185036, 73.620384,
        74.9438  , 77.977585, 71.807495,       nan],
       [      nan, 71.96393 , 72.337944, 71.43265 , 72.53266 , 75.1523  ,
        72.99538 , 73.09416 , 70.450806, 72.197105],
       [      nan, 73.61826 , 70.19908 , 74.852516, 75.208   , 77.43504 ,
        72.42751 , 73.068436, 72.33972 , 72.52609 ],
       [      nan, 74.11915 , 70.18663 , 74.7237  , 77.20864 , 76.27361 ,
        74.589386, 75.050354, 73.17027 , 73.384834],
       [75.12959 , 73.457245, 71.300545, 73.900055, 75.676674, 76.74452 ,
        77.89226 , 76.762215, 71.2215  , 71.95555 ],
       [77.55856 , 78.27836 , 74.03228 , 75.00891 , 73.650276, 75.9007  ,
        73.16817 , 73.02088 , 75.51628 , 73.40891 ],
       [79.2914  , 80.0459  , 77.99489 , 80.1498  , 77.798996, 74.62318 ,
        76.27399 , 72.10313 , 73.19379 , 74.72033 ],
       [77.446556, 78.48423 , 81.577545, 79.73273 , 79.87893 , 76.07451 ,
        80.07459 , 75.74507 , 70.84892 , 75.573746]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm10_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 4.859 4.766 5.102</div><input id='attrs-706bdd31-8927-4821-909b-17e55a4ca876' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-706bdd31-8927-4821-909b-17e55a4ca876' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c0e31b77-7f16-4b48-9f42-7cbe7a769208' class='xr-var-data-in' type='checkbox'><label for='data-c0e31b77-7f16-4b48-9f42-7cbe7a769208' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled PM₁₀</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 5.73317 , 6.578017,
        6.031925, 5.161802, 5.337867],
       [     nan,      nan,      nan,      nan,      nan, 5.54771 , 5.689821,
        5.503186, 5.202498, 5.5887  ],
       [     nan,      nan, 5.336385, 5.267356, 5.618802, 5.983119, 5.407195,
        5.226027, 5.251115,      nan],
       [     nan, 5.144566, 4.76335 , 4.770976, 5.490799, 5.147343, 5.702931,
        5.538355, 5.516446, 5.616829],
       [     nan, 4.77393 , 5.167388, 4.928969, 4.737598, 4.762009, 5.301621,
        4.865559, 5.319851, 6.159426],
       [     nan, 4.837061, 4.983324, 4.450373, 4.48403 , 4.762482, 4.697101,
        4.876256, 4.963172, 5.432697],
       [4.920322, 5.39442 , 5.124232, 4.531651, 5.042739, 4.857913, 4.779792,
        4.73729 , 5.04597 , 5.148079],
       [4.998858, 5.557076, 4.981694, 4.65529 , 5.028572, 4.90374 , 4.714312,
        4.527115, 4.729699, 4.931512],
       [5.675499, 5.846849, 5.761289, 4.829288, 4.655128, 4.722843, 4.949172,
        4.909931, 4.755783, 5.304385],
       [5.575819, 6.108785, 6.322637, 4.61922 , 4.698382, 4.929564, 6.014256,
        4.859348, 4.766391, 5.101736]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm2p5_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 3.155 3.079 2.985</div><input id='attrs-45749c1f-66d2-4706-b18a-85ae093966f8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-45749c1f-66d2-4706-b18a-85ae093966f8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6f166e1f-4e27-46cf-bd42-eec81eb57d2f' class='xr-var-data-in' type='checkbox'><label for='data-6f166e1f-4e27-46cf-bd42-eec81eb57d2f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled PM₂.₅</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 3.10277 , 3.172893,
        3.059379, 3.311991, 3.629006],
       [     nan,      nan,      nan,      nan,      nan, 3.246769, 3.142399,
        3.134841, 3.296331, 3.597963],
       [     nan,      nan, 3.0845  , 2.931868, 2.912006, 3.169816, 3.21359 ,
        3.289787, 3.253751,      nan],
       [     nan, 3.126554, 3.159605, 2.939175, 3.130483, 3.077479, 2.871488,
        2.823837, 3.013572, 3.36286 ],
       [     nan, 3.103669, 3.179512, 3.022268, 3.192105, 3.139477, 3.23163 ,
        2.805636, 2.894018, 3.007589],
       [     nan, 3.008417, 3.023665, 3.257489, 3.209948, 3.11006 , 2.936085,
        2.922065, 2.957091, 3.011347],
       [3.33595 , 3.25094 , 3.067075, 3.027315, 2.889865, 3.039967, 2.98747 ,
        2.898932, 3.135729, 2.836591],
       [3.237036, 3.315504, 2.961649, 3.137749, 2.901866, 3.06953 , 3.220407,
        3.25451 , 3.234102, 3.193565],
       [3.201273, 2.788757, 2.931786, 2.922794, 2.877976, 3.224051, 3.293354,
        3.232876, 3.178247, 2.865482],
       [2.935301, 3.1193  , 2.651888, 3.112288, 3.171132, 3.236692, 3.232709,
        3.15516 , 3.078887, 2.984965]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>so2_Prediction_0p5_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.9549 0.9281</div><input id='attrs-1521db06-c598-4ac8-ac84-7403c5c6297d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1521db06-c598-4ac8-ac84-7403c5c6297d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e2f2df54-d04c-46d6-8db7-568e675469ef' class='xr-var-data-in' type='checkbox'><label for='data-e2f2df54-d04c-46d6-8db7-568e675469ef' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>Median (50th pct) of modeled SO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 1.357656, 1.593904,
        1.087244, 1.084944, 1.62106 ],
       [     nan,      nan,      nan,      nan,      nan, 1.157114, 1.289005,
        1.071608, 1.029157, 1.665492],
       [     nan,      nan, 1.436129, 1.127396, 1.06026 , 1.520172, 0.909797,
        1.444781, 0.809039,      nan],
       [     nan, 1.515265, 1.312493, 1.05498 , 0.99477 , 1.223614, 1.109188,
        0.900524, 0.907538, 1.09815 ],
       [     nan, 1.456528, 1.449777, 0.880234, 1.29993 , 1.022628, 0.915102,
        0.902405, 0.905387, 0.926795],
       [     nan, 1.364354, 1.218906, 1.218786, 1.149237, 1.157688, 0.822776,
        0.864311, 0.778801, 1.210809],
       [1.163899, 1.494786, 1.188855, 1.507582, 1.109606, 1.021469, 0.957605,
        0.968296, 0.784513, 1.299959],
       [1.058095, 1.654193, 1.208436, 1.420492, 0.999038, 1.020706, 0.884364,
        0.906701, 0.870298, 0.862959],
       [1.003199, 1.49582 , 1.243695, 1.136595, 1.313214, 0.993485, 1.120232,
        0.8116  , 0.912073, 0.905438],
       [1.203991, 1.354754, 0.894416, 1.013845, 1.123271, 1.056392, 1.167945,
        0.858598, 0.954908, 0.928093]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>nox_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 6.333 5.274 6.632</div><input id='attrs-36e2fcb7-38b6-45aa-a9c6-d39dad3a0c3a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-36e2fcb7-38b6-45aa-a9c6-d39dad3a0c3a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b492f45f-730a-4283-825c-e3111f134819' class='xr-var-data-in' type='checkbox'><label for='data-b492f45f-730a-4283-825c-e3111f134819' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled NOₓ</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan,  3.698285,
         8.99912 ,  6.069039,  5.648049,  8.601383],
       [      nan,       nan,       nan,       nan,       nan,  5.70305 ,
         9.346508,  8.801353, 10.353715,  8.406655],
       [      nan,       nan,  5.045838,  4.883109,  6.493221,  5.882001,
         6.030179,  7.968869,  6.149161,       nan],
       [      nan,  8.900501,  4.57543 ,  6.566457,  6.584735,  3.685944,
         8.396067,  7.626145,  5.302001,  4.69234 ],
       [      nan,  5.498738,  4.281213,  6.325865,  4.12955 ,  5.232629,
         8.284266,  7.4655  ,  6.468203,  7.81909 ],
       [      nan,  4.504423,  5.718701,  4.292523,  4.815563,  4.635418,
         7.537969,  7.906096,  6.564443,  8.435768],
       [ 3.672891,  5.182618,  3.179574,  4.125635,  7.612889,  6.628781,
         6.592807,  6.01429 ,  5.816844,  7.573192],
       [ 3.975853,  5.8546  ,  4.834869,  4.978403,  6.476344,  6.636254,
         5.168016,  6.165747,  5.871363,  5.410716],
       [ 4.741272,  5.457149,  6.363783,  6.245546,  5.931829,  5.921423,
         2.977062,  6.049827,  5.682101,  6.904494],
       [ 4.801615,  8.545837,  6.691888,  5.294137,  4.863898,  8.216218,
         5.369126,  6.332753,  5.273727,  6.632062]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no2_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 4.341 4.149 7.245</div><input id='attrs-5c0c0c91-1f30-4c7a-a71d-91d15023acad' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5c0c0c91-1f30-4c7a-a71d-91d15023acad' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4e3f54e2-7aca-40b2-96fa-4d53bea8d84e' class='xr-var-data-in' type='checkbox'><label for='data-4e3f54e2-7aca-40b2-96fa-4d53bea8d84e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled NO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 3.91052 , 6.964017,
        6.69681 , 9.119142, 7.167789],
       [     nan,      nan,      nan,      nan,      nan, 4.170381, 8.857368,
        6.0165  , 8.83928 , 6.823685],
       [     nan,      nan, 4.413671, 4.033335, 4.691509, 3.561462, 4.445797,
        6.468662, 8.117089,      nan],
       [     nan, 5.800246, 4.601511, 5.009542, 4.961194, 3.212816, 8.565588,
        6.665789, 6.159801, 6.931606],
       [     nan, 4.66363 , 3.703938, 5.938258, 3.909911, 4.382758, 8.350924,
        7.88506 , 6.226718, 6.907909],
       [     nan, 3.687961, 3.806686, 3.103391, 4.163404, 3.88972 , 6.468627,
        8.11305 , 5.153204, 5.183344],
       [3.145499, 5.163023, 2.485985, 3.52049 , 7.52648 , 5.665771, 6.410245,
        6.67719 , 5.904306, 6.917506],
       [3.502829, 5.590387, 5.485269, 4.262722, 8.077528, 6.756052, 4.118345,
        4.618654, 5.324408, 5.412869],
       [3.759201, 6.162796, 5.65751 , 7.374095, 5.005719, 6.716538, 2.588612,
        4.45503 , 4.366143, 5.543823],
       [4.091549, 8.018798, 8.336412, 4.49207 , 3.484932, 6.512146, 4.165553,
        4.340734, 4.149425, 7.244859]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>no_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 0.5274 0.9902</div><input id='attrs-022de0ab-8475-43f5-a6a8-be93cfedfdcd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-022de0ab-8475-43f5-a6a8-be93cfedfdcd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-77a6545c-2500-4c07-b477-db9d9fed6114' class='xr-var-data-in' type='checkbox'><label for='data-77a6545c-2500-4c07-b477-db9d9fed6114' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled NO</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 0.5023  , 0.88293 ,
        0.764936, 0.757802, 1.80048 ],
       [     nan,      nan,      nan,      nan,      nan, 0.63191 , 1.190991,
        1.053399, 1.422905, 1.686937],
       [     nan,      nan, 0.851144, 0.607978, 0.855593, 0.760381, 0.861974,
        1.077993, 0.762236,      nan],
       [     nan, 1.709772, 0.742804, 1.142483, 0.795627, 0.50509 , 1.471149,
        1.001102, 0.794362, 0.614999],
       [     nan, 0.704629, 0.770358, 0.682114, 0.442358, 0.483176, 1.794882,
        1.22798 , 0.947989, 0.806932],
       [     nan, 0.499288, 0.823921, 0.533489, 0.448831, 0.483898, 1.155468,
        1.123621, 0.809246, 0.90578 ],
       [0.438999, 0.843262, 0.518162, 0.546404, 0.778935, 0.7808  , 0.870788,
        0.860099, 0.626702, 0.817063],
       [0.479997, 0.778713, 0.767574, 0.506723, 0.729475, 0.73111 , 0.629465,
        0.734061, 0.657265, 0.666467],
       [0.525783, 0.993072, 1.033483, 0.779229, 0.709711, 0.898243, 0.427939,
        0.573164, 0.633874, 0.644943],
       [0.528078, 0.860653, 0.898924, 0.473301, 0.556024, 1.051628, 0.775262,
        0.725253, 0.527367, 0.990194]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>o3_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 85.15 85.22 89.95</div><input id='attrs-e4f4415a-5bb5-47b7-9dd6-e93b9cddf504' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e4f4415a-5bb5-47b7-9dd6-e93b9cddf504' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9ab9fb95-831e-4cfe-9372-f650c8e0d9dd' class='xr-var-data-in' type='checkbox'><label for='data-9ab9fb95-831e-4cfe-9372-f650c8e0d9dd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled O₃</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 87.37937 ,
        87.147446, 88.27062 , 87.96685 , 86.60076 ],
       [      nan,       nan,       nan,       nan,       nan, 91.52443 ,
        88.441536, 88.49251 , 89.20453 , 84.95777 ],
       [      nan,       nan, 89.750626, 89.253174, 93.54573 , 88.862404,
        89.591385, 86.29648 , 89.22038 ,       nan],
       [      nan, 88.486946, 89.82359 , 89.931984, 90.65555 , 91.59372 ,
        87.676094, 90.316414, 88.13412 , 89.43824 ],
       [      nan, 88.91927 , 88.82744 , 90.538376, 90.6483  , 90.192635,
        86.71655 , 90.21331 , 88.11807 , 86.610634],
       [      nan, 88.61641 , 88.56781 , 89.28539 , 91.151886, 89.45357 ,
        85.98368 , 90.78081 , 90.37049 , 88.95857 ],
       [88.78619 , 88.513435, 87.306465, 89.618935, 91.27681 , 88.35014 ,
        88.99662 , 90.400055, 88.58043 , 89.68211 ],
       [85.30945 , 84.68234 , 86.13829 , 85.80774 , 85.28564 , 79.73999 ,
        88.85629 , 89.0399  , 91.63164 , 89.71425 ],
       [86.35917 , 88.38732 , 86.15778 , 86.58342 , 84.88569 , 81.34445 ,
        85.25793 , 82.5074  , 88.41235 , 92.35919 ],
       [85.92341 , 83.599106, 87.03103 , 87.65124 , 86.66996 , 80.130905,
        85.56953 , 85.14959 , 85.21688 , 89.94654 ]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm10_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 20.68 18.42 20.32</div><input id='attrs-04158512-a2d7-4f1a-93bd-a5ff7e5283c5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04158512-a2d7-4f1a-93bd-a5ff7e5283c5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b98d0e59-7211-4812-b37f-9d73758e8587' class='xr-var-data-in' type='checkbox'><label for='data-b98d0e59-7211-4812-b37f-9d73758e8587' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled PM₁₀</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 20.314016,
        20.982574, 18.584044, 19.37992 , 17.90854 ],
       [      nan,       nan,       nan,       nan,       nan, 19.182623,
        19.521376, 19.326818, 18.581192, 18.145838],
       [      nan,       nan, 18.402504, 18.767868, 19.073402, 20.417637,
        18.57216 , 19.207495, 17.547535,       nan],
       [      nan, 19.686558, 18.670021, 18.746433, 18.570541, 18.55156 ,
        17.584959, 19.59703 , 18.06116 , 18.682945],
       [      nan, 18.574085, 19.938494, 19.245813, 18.242662, 18.166512,
        17.631779, 18.551931, 18.262259, 18.395786],
       [      nan, 18.600967, 19.111212, 18.756437, 17.954376, 17.463055,
        17.46931 , 17.532948, 19.052738, 19.428898],
       [18.724445, 19.14683 , 19.770468, 18.058506, 17.757929, 17.62177 ,
        19.041737, 17.973238, 17.983273, 19.172958],
       [18.830309, 20.267118, 18.78665 , 18.557905, 19.56911 , 18.12036 ,
        19.727282, 18.17805 , 17.63984 , 17.814299],
       [19.535463, 19.507936, 19.107386, 18.564636, 18.679245, 18.681948,
        19.390642, 19.724716, 19.635061, 20.18821 ],
       [18.595715, 19.725683, 20.41183 , 18.693602, 18.803492, 18.335606,
        20.399237, 20.682596, 18.422148, 20.318045]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>pm2p5_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan ... 10.09 10.47 10.01</div><input id='attrs-1da143cc-d297-4312-b037-341914e87e06' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1da143cc-d297-4312-b037-341914e87e06' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b6031d86-08bc-4b5d-ad69-00927e08d6e1' class='xr-var-data-in' type='checkbox'><label for='data-b6031d86-08bc-4b5d-ad69-00927e08d6e1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled PM₂.₅</dd></dl></div><div class='xr-var-data'><pre>array([[      nan,       nan,       nan,       nan,       nan, 10.090218,
        10.143843,  9.783209,  9.989917, 10.655316],
       [      nan,       nan,       nan,       nan,       nan,  9.929328,
         9.85035 ,  9.706766, 10.068416, 10.925635],
       [      nan,       nan, 10.413999, 10.513487, 10.029161, 10.248806,
         9.848996,  9.96049 , 10.192126,       nan],
       [      nan, 10.344163, 10.079146, 10.260512, 10.033681,  9.408754,
         9.754449,  9.596722, 10.289219, 10.060147],
       [      nan, 10.09002 , 10.030933,  9.754119,  9.468195,  9.171829,
         9.554021, 10.239799,  9.989568,  9.482572],
       [      nan,  9.677293,  9.754119,  9.543968,  9.431268,  9.62152 ,
        10.010903, 10.204779, 10.114275, 10.211835],
       [ 9.33543 ,  9.620623,  9.486924,  9.463776,  9.205195,  9.270538,
         9.834843,  9.847014,  9.824655,  9.602721],
       [ 9.363707,  9.83559 ,  9.209864,  9.290492,  9.455547,  9.261298,
        10.127897,  9.918158,  9.948199,  9.730356],
       [ 9.493418, 10.063773,  9.354344,  9.035571,  9.713556,  9.692271,
        10.188358, 10.311374, 10.132828,  9.967482],
       [ 9.997768, 10.436283,  9.982998,  9.779375,  9.663319,  9.662421,
         9.931948, 10.08735 , 10.465551, 10.008629]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>so2_Prediction_0p95_Quantile</span></div><div class='xr-var-dims'>(Northing, Easting)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... 1.9 2.759 2.92</div><input id='attrs-5967287e-998b-4cbf-ac2a-5511b04d73b1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5967287e-998b-4cbf-ac2a-5511b04d73b1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fdd2f64b-1370-41ad-a672-51b8bb087b47' class='xr-var-data-in' type='checkbox'><label for='data-fdd2f64b-1370-41ad-a672-51b8bb087b47' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>µg/m³</dd><dt><span>long_name :</span></dt><dd>95th percentile of modeled SO₂</dd></dl></div><div class='xr-var-data'><pre>array([[     nan,      nan,      nan,      nan,      nan, 2.491965, 3.737706,
        2.522025, 2.787185, 3.061429],
       [     nan,      nan,      nan,      nan,      nan, 2.26929 , 3.096076,
        3.173779, 3.333401, 2.855525],
       [     nan,      nan, 3.604547, 3.369873, 2.959273, 2.481016, 2.447913,
        3.066954, 2.687946,      nan],
       [     nan, 2.922741, 3.896166, 3.175317, 2.096395, 2.430991, 1.98528 ,
        2.697738, 2.772341, 3.40191 ],
       [     nan, 3.039883, 2.803295, 2.317501, 2.29143 , 2.185096, 2.272296,
        2.436577, 2.454666, 2.805283],
       [     nan, 3.227421, 2.706903, 2.630462, 2.619353, 2.246213, 2.557399,
        2.392216, 2.315733, 2.420924],
       [2.360525, 2.222502, 2.298422, 2.680349, 2.213605, 2.687686, 2.448612,
        3.165543, 1.94712 , 1.978492],
       [2.297632, 2.477552, 2.183793, 2.183515, 2.379984, 2.295217, 2.298105,
        2.119057, 2.149601, 1.913515],
       [2.43556 , 2.486989, 2.376601, 2.152747, 2.302361, 2.276338, 2.487789,
        2.110719, 2.047118, 2.813274],
       [2.439461, 3.041886, 2.477   , 2.317957, 2.385245, 2.445147, 2.50371 ,
        1.900107, 2.759097, 2.920074]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-5d7dddc2-a4f5-4ee6-bc26-ca9f87ebd8ca' class='xr-section-summary-in' type='checkbox'  ><label for='section-5d7dddc2-a4f5-4ee6-bc26-ca9f87ebd8ca' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>Northing</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-06a24fa2-926d-45dd-979b-15ac0b3a74b8' class='xr-index-data-in' type='checkbox'/><label for='index-06a24fa2-926d-45dd-979b-15ac0b3a74b8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([6406831.988, 6407831.988, 6408831.988, 6409831.988, 6410831.988,
       6411831.988, 6412831.988, 6413831.988, 6414831.988, 6415831.988],
      dtype=&#x27;float64&#x27;, name=&#x27;Northing&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>Easting</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2f25cc5d-3935-4c72-85cf-cb146ad94c0c' class='xr-index-data-in' type='checkbox'/><label for='index-2f25cc5d-3935-4c72-85cf-cb146ad94c0c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-585791.4429, -584791.4429, -583791.4429, -582791.4429, -581791.4429,
       -580791.4429, -579791.4429, -578791.4429, -577791.4429, -576791.4429],
      dtype=&#x27;float64&#x27;, name=&#x27;Easting&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2db4b173-30a8-4fd5-8454-d90c687d7e27' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2db4b173-30a8-4fd5-8454-d90c687d7e27' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Title :</span></dt><dd>ML-HAPPE (Machine Learning for Hourly Air Pollution Prediction in England) Dataset</dd><dt><span>References :</span></dt><dd>https://doi.org/10.1017/eds.2025.9</dd><dt><span>Conventions :</span></dt><dd>CF-1.8</dd><dt><span>Author :</span></dt><dd>Liam J Berrisford</dd><dt><span>History :</span></dt><dd>Created on 2025-03-13T18:48:45.206727</dd></dl></div></li></ul></div></div></div></div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="home_page.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Environmental Insights</p>
      </div>
    </a>
    <a class="right-next"
       href="docs/api/environmental_insights/environmental_insights.air_pollution_functions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">environmental_insights.air_pollution_functions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Environmental Insights Tutorial</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#import-relevant-modules-for-the-tutorial-both-from-the-environmental-insight-package-air-pollution-functions-data-models-and-auxiliary-modules-numpy-and-matplotlib">Import relevant modules for the tutorial, both from the Environmental Insight package (air_pollution_functions, data, models) and auxiliary modules (numpy and matplotlib)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-of-the-example-dataset-for-the-tutorial">Loading of the example dataset for the tutorial</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-the-data-that-represents-the-gridded-system-used-for-both-the-global-and-the-uk-model">Load in the data that represents the gridded system used for both the global and the UK Model.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-data-for-a-particular-timestamp-for-the-global-dataset-for-all-of-the-grids">Load in data for a particular timestamp for the global dataset for all of the grids.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-in-data-for-a-particular-timestamp-for-the-england-dataset-for-all-of-the-grids-and-for-a-single-point-latitude-and-longitude-for-a-single-timestamp">Load in data for a particular timestamp for the England dataset for all of the grids, and for a single point (latitude and longitude) for a single timestamp.</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-different-datapoints-that-have-been-loaded-in-in-both-the-uk-daily-air-quality-index-and-the-higher-level-daily-air-quality-bands">Visualise the different datapoints that have been loaded in. In both the UK Daily Air Quality Index, and the higher level Daily Air Quality Bands</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uk-model-visualisation">UK Model Visualisation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-model-visualisation">Global Model Visualisation</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#the-code-from-this-point-onwards-required-you-to-download-the-data-from-google-drive-while-a-more-permanent-solution-for-online-downloading-of-the-data-is-sought">The code from this point onwards required you to download the data from google drive while a more permanent solution for online downloading of the data is sought.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-typical-day-data-for-the-uk">Load the typical day data for the UK</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-change-in-the-air-pollution-concentration-and-air-quality-index-for-no2-between-8am-and-9am-on-1st-january-2018">Visualise the change in the air pollution concentration and air quality index for NO2 between 8am and 9am on 1st January 2018.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualising-the-changes-in-the-air-pollution-concentrations-across-a-number-of-timestamps">Visualising the changes in the air pollution concentrations across a number of timestamps.</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-changes-based-on-the-list-of-dataframe">Visualise the changes based on the list of dataframe.</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-using-the-model-to-create-new-predictions-based-on-a-changing-feature-vector">Example of using the model to create new predictions based on a changing feature vector.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#access-up-to-date-openstreetmaps-data">Access Up to Date OpenStreetMaps data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-the-changes-in-air-pollution-across-a-typical-friday-due-to-the-placement-of-the-new-motorway-segment">Visualise the changes in air pollution across a typical friday due to the placement of the new motorway segment</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Liam J Berrisford
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>